<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>CMOS on Flyfan Blog</title>
        <link>https://downeyflyfan.com/categories/cmos/</link>
        <description>Recent content in CMOS on Flyfan Blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <lastBuildDate>Thu, 26 Oct 2023 19:35:25 +0800</lastBuildDate><atom:link href="https://downeyflyfan.com/categories/cmos/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>A1 Coupler</title>
        <link>https://downeyflyfan.com/p/a1-coupler/</link>
        <pubDate>Thu, 26 Oct 2023 19:35:25 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/a1-coupler/</guid>
        <description>&lt;h1 id=&#34;new-bridge-approaches&#34;&gt;New Bridge Approaches&lt;/h1&gt;
&lt;h2 id=&#34;current-conveyors&#34;&gt;Current Conveyors&lt;/h2&gt;
&lt;h3 id=&#34;category&#34;&gt;Category&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;种类&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;特点&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;CCI&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;仅&lt;strong&gt;传输电流&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;CCII&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;同时传递电压和电流&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;CCIII&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;在CCII的基础上增加了电压和电流的分割比例调节&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;important-types&#34;&gt;Important Types&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Operational Floating Current Conveyors(OFCC)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Block Diagram&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/1.png&#34;
	width=&#34;856&#34;
	height=&#34;516&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/1_hu1505550a804a167df8b88884c424dc48_59677_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/1_hu1505550a804a167df8b88884c424dc48_59677_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;165&#34;
		data-flex-basis=&#34;398px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Ports&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Functions&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$X$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$I_{in}, Low \ Z_{in}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Y$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$V_{in}, High \ Z_{in}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$W$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$V_{out}, Low \ Z_{out}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Z^+, Z^-$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$I_{out}$ in Opposite Direction , $High \ Z_{out}$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;Circuit Scheme&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/2.png&#34;
	width=&#34;1150&#34;
	height=&#34;892&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/2_hu240147f1b4b1341d4041c869f6e4cd97_147607_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/2_hu240147f1b4b1341d4041c869f6e4cd97_147607_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;128&#34;
		data-flex-basis=&#34;309px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;OFCC-DC&lt;/strong&gt; Model&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/3.png&#34;
	width=&#34;1496&#34;
	height=&#34;870&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/3_hu7c8c388d7701ea7d5bdcd419a07dda21_163619_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/3_hu7c8c388d7701ea7d5bdcd419a07dda21_163619_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;171&#34;
		data-flex-basis=&#34;412px&#34;
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;transmission-line&#34;&gt;Transmission Line&lt;/h1&gt;
&lt;h2 id=&#34;electric-length--distributed-parameters&#34;&gt;Electric Length &amp;amp; Distributed Parameters&lt;/h2&gt;
&lt;h3 id=&#34;basic-cnocepts&#34;&gt;Basic Cnocepts&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Electric Length&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\theta = \dfrac{ l }{ \lambda }$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Phase Velocity&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$v_p = f \lambda = \dfrac{ \omega }{ \beta }, f = \sqrt{ \varepsilon_r f}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Normalized Frequency&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$f_N = \dfrac{ \theta }{ \lambda } = \dfrac{ 2 \pi }{ \lambda^2 } l \propto l$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;常见频率波长转换&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$2.4GHz \longleftrightarrow \lambda= 12.5cm \ 5GHz \longleftrightarrow  \lambda = 6cm \ 10GHz \longleftrightarrow  \lambda = 3cm$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;distributed-parameters&#34;&gt;Distributed Parameters&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/12.png&#34;
	width=&#34;1588&#34;
	height=&#34;650&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/12_hue20630f99e53a3d6839ba01fdfcf2fd1_409091_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/12_hue20630f99e53a3d6839ba01fdfcf2fd1_409091_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;244&#34;
		data-flex-basis=&#34;586px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;impedance--reflected-coefficient&#34;&gt;Impedance &amp;amp; Reflected Coefficient&lt;/h2&gt;
&lt;h3 id=&#34;characteristic-impedance&#34;&gt;Characteristic Impedance&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
Z_0 &amp;amp;= \frac{ V^+ (x) }{ I^+ (x) } \\
&amp;amp;= \sqrt{ \frac{ R + j \omega L }{ G + j \omega C } } \\
&amp;amp;= \frac{ |V_{max}| }{ |I_{max}| }  \\
&amp;amp;= \frac{ |V_{min}| }{ |I_{min}| }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;reflected-coefficient&#34;&gt;Reflected Coefficient&lt;/h3&gt;
&lt;h4 id=&#34;reflected-coefficient-formula&#34;&gt;Reflected Coefficient Formula&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\Gamma (x&amp;rsquo;) &amp;amp;= \frac{ V^-(x&amp;rsquo;) }{ V^+ (x&amp;rsquo;) } = - \frac{ I^- (x&amp;rsquo;) }{ I^+ (x&amp;rsquo;) } \\
&amp;amp;= \frac{ V_2 ^- e^{ -j \beta x&amp;rsquo;} }{  V_2 ^+ e^{ j \beta x&amp;rsquo;}} \\
&amp;amp;= \Gamma_L e^{-j 2 \beta x&amp;rsquo;} \\
&amp;amp;= |\Gamma_L| e^{j ( \phi_L - 2 \beta x&amp;rsquo;)}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;上式说明，任意一点的反射波的&lt;strong&gt;模值相等&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$T = \dfrac{ 2 \pi }{ 2 \beta } = \dfrac{ \lambda }{ 2 }$&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;reflected-coefficient-at-terminal-load&#34;&gt;Reflected Coefficient at Terminal (Load)&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\Gamma_L &amp;amp;=  \frac{ V_2^- }{ V_2^+ } \\
&amp;amp;= \frac{ V_2 - I_2 Z_0 }{ V_2 + I_2 Z_0 } \\
&amp;amp;= \frac{ Z_L - Z_0}{ Z_L + Z_0 } \\
&amp;amp;= | \Gamma_L | e^{j \phi_L}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Total Reflected&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Z_L = Z_0$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Partially Reflected&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Z_L \neq Z_0, 0$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Impedance Match&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Z_L = 0$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h4 id=&#34;vswr-voltage-standing-wave-ratio--traveling-wave-coefficient&#34;&gt;VSWR (Voltage Standing Wave Ratio) &amp;amp; Traveling Wave Coefficient&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
VSWR &amp;amp;= \rho = \frac{ |V_{max} }{ |V_{min}| } \\
&amp;amp;= \frac{ 1 + | \Gamma_L| }{ 1 - | \Gamma_l| } \\
K &amp;amp;= \frac{ 1 }{ \rho} = \frac{ |V_{min}| }{ |V_{max}|} \\
&amp;amp;= \frac{ 1 -| \Gamma_L| }{ 1 + | \Gamma_l | }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;input-impedance&#34;&gt;Input Impedance&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
Z_{in}(x&amp;rsquo;) &amp;amp;= \frac{ V(x&amp;rsquo;) }{ I(x&amp;rsquo;) }  \\
&amp;amp;= Z_0 \frac{ 1 + \Gamma (x&amp;rsquo;) e^{-j 2 \beta x&amp;rsquo;}}{1 - \Gamma (x&amp;rsquo;) e^{-j 2 \beta x&amp;rsquo;}} \\
&amp;amp;= Z_0 \frac{ Z_L + j Z_0 tan( \beta x&amp;rsquo;) }{ Z_L - j Z_0 tan( \beta x&amp;rsquo;) }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
Z_{in}(0) &amp;amp;= Z_0 \frac{ 1 + \Gamma_L }{ 1 - \Gamma_l } = Z_L \\
Z_{in}(l) &amp;amp;= Z_0
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h2 id=&#34;telegraphers-equation&#34;&gt;Telegrapher&amp;rsquo;s equation&lt;/h2&gt;
&lt;h3 id=&#34;telegraphers-equation-1&#34;&gt;Telegrapher&amp;rsquo;s Equation&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\frac{ \partial V(x,t) }{ \partial x } = - (R + j \omega L) I(x) \\
\frac{ \partial  I(x,t) }{ \partial x } = - (G + j \omega C) V(x)
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;wave-equation-for-a-homogeneous-transmission-line&#34;&gt;Wave Equation for a homogeneous Transmission Line&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Equation&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\frac{ \partial^2 V }{ \partial x^2 } - \gamma^2 V &amp;amp;= 0 \\
\frac{ \partial^2 I }{ \partial x^2 } - \gamma^2 I &amp;amp;= 0 \\
\gamma &amp;amp;= \sqrt{ (R + j \omega L)(G + j \omega C) } = \alpha + j \beta \\
\mathbb { Re } ( \gamma) &amp;amp;= \alpha = (a^2 + b^2)^{1/4} cos( \phi)  \\
\mathbb { Im }( \gamma) &amp;amp;= \beta = (a^2 + b^2)^{1/4}sin( \phi) \\
a &amp;amp;= RG - \omega^2 LC = \omega^2 LC \Big[ ( \frac{ R }{ \omega L}) ( \frac{ G }{ \omega C }) - 1) \Big] \\
b &amp;amp;= \omega C R + \omega L G = \omega^2 LC ( \frac{ R }{ \omega L } + \frac{ G }{ \omega C }) \\
\phi &amp;amp;= tan^{-1}( \frac{ b }{ a }) \\
L, C, \omega &amp;amp;\neq 0
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Solution in General Case&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
V(x) &amp;amp;= A_1 e^{- \gamma x} + A_2 e^{ \gamma x} \\
I(x) &amp;amp;= \frac{ 1 }{ Z_0 }(A_1 e^{- \gamma x} - A_2 e^{ \gamma x}) \\
Z_0 &amp;amp;= \sqrt{ \dfrac{ R + j \omega L }{ G + j \omega C } }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Solution in &lt;strong&gt;Idealized Case&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;$R, G = 0$, 通常都认为是&lt;strong&gt;无损耗线&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
V(x) &amp;amp;= A_1 e^{- j \beta x}  +A_2 e^{j \beta x} \\
I(x) &amp;amp;= \frac{ 1 }{ Z_0 } (A_1 e^{- j \beta x} - A_2 e^{j \beta x}) \\
Z_0 &amp;amp;= \sqrt{ \dfrac{ L }{ C } }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;incident--reflected-traveling-wave&#34;&gt;Incident &amp;amp; Reflected Traveling Wave&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;瞬时电压电流，不考虑虚部&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
v(x,t) &amp;amp;= \mathbb{ Re } \Big\lbrace V(x) e^{j \omega t} \Big\rbrace \\
&amp;amp;= \mathbb { Re } \Big\lbrace  A_1 e^{j( \omega t - \beta x) } + A_2 e^{j ( \omega t + \beta x)} \Big\rbrace  \\
&amp;amp;= A_1 cos( \omega t - \beta x) + A_2 cos ( \omega t + \beta x) \\
&amp;amp;= A_1 cos[ \beta( \frac{ \omega }{ \beta }t - x )] + A_2 cos[ \beta( \frac{ \omega }{ \beta }t + x )] \\
&amp;amp;= A_1 cos[ \beta(x -v_p t)]+ A_2 cos [ \beta(x + v_p t)] \\
I(x,t) &amp;amp;= \frac{ 1 }{ Z_0 } \Big\lbrace A_1 cos[ \beta(x -v_p t)] - A_2 cos [ \beta(x + v_p t)] \Big\rbrace
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;前者在$x_+$方向移动，为入射横波&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;后者在$x_-$方向移动，为反射横波&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;boundary-conditions&#34;&gt;Boundary Conditions&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;End Ports&lt;/strong&gt;: $V_2, I_2$ are known&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;将$V(l) = V_2, I(l) = I_2, x = l$, ($l$是传输线总长度) 带入方程(10)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
A_1 &amp;amp;= \frac{ V_2 + I_2 Z_0 }{ 2 } e^{j \beta l} \\
A_2 &amp;amp;= \frac{ V_2 - I_2 Z_0 }{ 2 } e^{-j \beta l}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
V(x&amp;rsquo;) &amp;amp;=  \frac{ V_2 + I_2 Z_0 }{ 2 } e^{ j \beta x&amp;rsquo;} + \frac{ V_2 - I_2 Z_0 }{ 2 } e^{ - j \beta x&amp;rsquo;} \\
&amp;amp;= V_2 cos ( \beta x&amp;rsquo;) + j I_2 Z_0 sin( \beta x&amp;rsquo;) \\
&amp;amp;= V_2 ^+ e^{ j \beta x&amp;rsquo;} ( 1 + \Gamma_L e^{- j 2 \beta x&amp;rsquo;}) \\
x&amp;rsquo; &amp;amp;= l - x
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
I(x&amp;rsquo;) &amp;amp;=  \frac{ V_2 + I_2 Z_0 }{ 2Z_0 } e^{j \beta x&amp;rsquo;} - \frac{ V_2 - I_2 Z_0 }{ 2Z_0 } e^{ - j \beta x&amp;rsquo;} \\
&amp;amp;= I_2 cos ( \beta x&amp;rsquo;) - j \frac{ V_2 }{ Z_0 } sin( \beta x&amp;rsquo;) \\
&amp;amp;= I_2 ^+ e^{j \beta x&amp;rsquo;} ( 1 - \Gamma_L e^{-j 2 \beta x&amp;rsquo;}) \\
x&amp;rsquo; &amp;amp;= l - x
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;Beginning Ports&lt;/strong&gt;: $V_1, I_1$ are known&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;将$V(0) = V_1, I(0) = I_1, x =  0$代入得到&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
A_1 &amp;amp;= \frac{ V_1 + I_1 Z_0 }{ 2 } \\
A_2 &amp;amp;= \frac{ V_1 - I_1 Z_0 }{ 2 } \\
V(x) &amp;amp;= V_1 cos( \beta x) + j I_1 Z_0 sin ( \beta x) \\
I(x) &amp;amp;= I_1 cos( \beta x) - j \frac{ V_1 }{ Z_0 } sin ( \beta z)
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h2 id=&#34;on-load--signal-source-transmission-line&#34;&gt;On-Load + Signal Source Transmission Line&lt;/h2&gt;
&lt;h3 id=&#34;transmission-line-with-load-and-signal-source&#34;&gt;Transmission Line With Load and Signal Source&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/13.png&#34;
	width=&#34;1214&#34;
	height=&#34;414&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/13_hu2ef49677ef4df4e3bf82d5be6b68a970_229607_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/13_hu2ef49677ef4df4e3bf82d5be6b68a970_229607_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;293&#34;
		data-flex-basis=&#34;703px&#34;
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;4-reflected-coefficient&#34;&gt;4 Reflected Coefficient&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\Gamma_{in} &amp;amp;= \frac{ Z_{in} - Z_0 }{ Z_{in} + Z_0} = \Gamma_L e^{-j 2 \beta l} \\
\Gamma_{S} &amp;amp;= \frac{ Z_S - Z_0 }{ Z_S + Z_0 } \\
\Gamma_{out} &amp;amp;=  \Gamma_S e^{-j 2 \beta l}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;transmission-coefficient&#34;&gt;Transmission Coefficient&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
T_{in} &amp;amp;= 1 + \Gamma_{in} = \frac{ 2 Z_{in} }{ Z_{in} + Z_0 } \\
T_L &amp;amp;= 1 + \Gamma_L = \frac{ 2 Z_L }{ Z_L + Z_0 }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;power-of-transmission-line&#34;&gt;Power of Transmission Line&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
V_{in} &amp;amp;= V_{in}^+ + V_{in}^- \\
&amp;amp;= V_{in}^+ ( 1 + \Gamma_{in}) \\
&amp;amp;= V_S \frac{ Z_S }{ Z_{in} + Z_S } \\
V_{in}^+ &amp;amp;= \frac{ V_S }{ 2 } \frac{ 1 - \Gamma_S }{ 1 - \Gamma_S \Gamma_{in} }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
P_{in} &amp;amp;= \frac{ |V_{in}|^2 }{ 2 Z_0 } \Big[ 1 - | \Gamma_{in} |^2 \Big] \\
&amp;amp;= \frac{ |V_S|^2 }{ 8 Z_0 } \frac{ | 1 - \Gamma_S|^2 }{ |1 - \Gamma_S \Gamma_{in} |^2} ( 1 - | \Gamma_{in}|^2 )
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;conjuction-match--losses&#34;&gt;Conjuction Match &amp;amp; Losses&lt;/h3&gt;
&lt;h4 id=&#34;conjuction-match-of-signal-source&#34;&gt;Conjuction Match of Signal Source&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/15.png&#34;
	width=&#34;1528&#34;
	height=&#34;684&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/15_hu3330977cecae1271f1201095cffac587_234153_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/15_hu3330977cecae1271f1201095cffac587_234153_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;223&#34;
		data-flex-basis=&#34;536px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
P_{in} &amp;amp;= \frac{ 1 }{ 2 } R_{in} I \cdot I^* \\
&amp;amp;= \frac{ 1 }{ 2 } R_{in} \frac{ V_S^2 }{ (R_S + R_{in})^2 + (X_{in} + X_S)^2 } \\
When \ X_{in} &amp;amp;= - X_S \\
P_{in \ max}  &amp;amp;= \frac{ R_{in} V_S^2 }{ 2 (R_S + R_{in})^2 }  \\
\frac{ \partial P_{in} }{ \partial R_{in} } &amp;amp;= \frac{ V_S^2 }{ 2 } \frac{ R_S - R_{in} }{ (R_S + R_{in})^3 } \\
hen \ R_S &amp;amp;= R_{in} \\
P_{in} &amp;amp;= \frac{ V_S^2 }{ 8 R_S }
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;所以信号换功率输出最大的条件为$Z_{in} = Z_S^*$&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;return-loss--insertion-loss&#34;&gt;Return Loss &amp;amp; Insertion Loss&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
RL &amp;amp;= - 10 lg \Big( \frac{P_{in}^- }{ P_{in}^+ } \Big) \\
&amp;amp;= -10 lg | \Gamma_{in} |^2 \\
&amp;amp;= -20 lg | \Gamma_{in} | dB
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
IL &amp;amp;= -10 lg \Big( \frac{ P_{in}^+ - P_{in}^- }{ P_{in}^+ } \Big) \\
&amp;amp;= -10 lg ( 1 - |\Gamma_{in}|^2 ) dB
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h2 id=&#34;lossless-condition-analysis&#34;&gt;Lossless Condition Analysis&lt;/h2&gt;
&lt;h3 id=&#34;lossless-condition&#34;&gt;Lossless Condition&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\alpha &amp;amp;= 0, \beta = \omega \sqrt{ LC } , \gamma = j \beta, Z_0 = \sqrt{ \dfrac{ L }{ C } } \\
\Gamma &amp;amp;= 0
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;tranveling-wave-condition&#34;&gt;Tranveling Wave Condition&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\Gamma &amp;amp;= 0 \longrightarrow V^-(x&amp;rsquo;) = 0 \longrightarrow Z_L = Z_0
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;特点&#34;&gt;特点&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;电压和电流振幅不变&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;电压电流同相&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$Z_{in} = Z_0 = Z_L$&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;microstrip-line&#34;&gt;MicroStrip Line&lt;/h2&gt;
&lt;h3 id=&#34;effective-dielectric-constant--characteristic-impedance&#34;&gt;Effective Dielectric Constant &amp;amp; Characteristic Impedance&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/15.png&#34;
	width=&#34;1528&#34;
	height=&#34;684&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/15_hu3330977cecae1271f1201095cffac587_234153_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/15_hu3330977cecae1271f1201095cffac587_234153_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;223&#34;
		data-flex-basis=&#34;536px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;(a)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;全部填充空气&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;(b)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;全部填充&lt;strong&gt;介质r&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;(c)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;真实物理结构&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;(d)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;全部填充&lt;strong&gt;等效介质re&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\varepsilon_{re} &amp;amp;= \begin{cases}
\dfrac{ \varepsilon_r + 1 }{ 2 } \dfrac{ \varepsilon_r - 1 }{ 2 } \Big[ (2 + \dfrac{ 12 }{ W })^{-1/2} + 0.041 (1 - \dfrac{ W }{ h })^2 \Big] &amp;amp; W \le h \\
\dfrac{ \varepsilon_r + 1 }{ 2 } \dfrac{ \varepsilon_r -1 }{ 2 } ( 1 + 12 \dfrac{ h }{ W })^{-1/2} &amp;amp; W \ge h
\end{cases} \\
Z_0 &amp;amp;=  \begin{cases}
\dfrac{ 60 }{ \sqrt{ \varepsilon_{re} } } ln \Big( \dfrac{ 8h }{ W } + \dfrac{ W }{ 4h } \Big) &amp;amp; W \le h \\
\dfrac{ 120 \pi }{ \sqrt{ \varepsilon_{re} } \Big[ \dfrac{ W }{ h } + 1.393 + 0.667 ln \Big( \dfrac{ W }{ h } + 1.444 \Big) \Big]} &amp;amp; W \ge h
\end{cases} \\
\frac{ W}{ h } &amp;amp;= \begin{cases}
\dfrac{ 8 e^{A} }{ e^{2A} - 2} &amp;amp; \dfrac{ W }{  h} \le 2 \\
\dfrac{ 2 }{ \pi } \Big\lbrace B - 1 -ln (2B -1) + \dfrac{ \varepsilon_r -1 }{ 2 \varepsilon_r } \Big[ ln(B - 1) + 0.39 - \dfrac{ 0.61 }{ \varepsilon_r } \Big]\Big\rbrace &amp;amp; \dfrac{ W }{ h } \ge 2
\end{cases} \\
A &amp;amp;= \frac{ Z_0 }{ 60 } \sqrt{ \frac{ \varepsilon_r + 1 }{ 2 } } + \frac{ \varepsilon_r - 1 }{ \varepsilon_r + 1 } \Big( 0.23 + \frac{ 0.11 }{ \varepsilon_r } \Big) \\
B &amp;amp;= \frac{ 377 \pi }{ 2 Z_0 \sqrt{ \varepsilon_r } }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;phase-velocity--wave-length&#34;&gt;Phase Velocity &amp;amp; Wave Length&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
v_p &amp;amp;= \frac{ c }{ \sqrt{ \varepsilon_{re} } } \\
\lambda_p &amp;amp;= \frac{ \lambda }{ \sqrt{ \varepsilon_{re} } }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h1 id=&#34;rf-network&#34;&gt;RF Network&lt;/h1&gt;
&lt;h2 id=&#34;2-ports-network&#34;&gt;2-Ports Network&lt;/h2&gt;
&lt;h3 id=&#34;low-frequency&#34;&gt;Low Frequency&lt;/h3&gt;
&lt;h4 id=&#34;impedance--admittace-parameters&#34;&gt;Impedance &amp;amp; Admittace Parameters&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/17.png&#34;
	width=&#34;1426&#34;
	height=&#34;536&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/17_hucb18d4ee70baaf46e617f75b897d3a79_103612_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/17_hucb18d4ee70baaf46e617f75b897d3a79_103612_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;266&#34;
		data-flex-basis=&#34;638px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[V] &amp;amp;= [Z] [i] \\
[I] &amp;amp;= [Y] [V]  \\
[V] &amp;amp;= \begin{bmatrix}
V_1 \
V_2
\end{bmatrix} \\
[Z] &amp;amp;= \begin{bmatrix}
Z_{11} &amp;amp; Z_{12}  \\
Z_{21} &amp;amp; Z_{22}
\end{bmatrix} \\
[i] &amp;amp;= \begin{bmatrix}
i_1  \
i_2
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
Z_{mn} &amp;amp;= \begin{cases}
\dfrac{ V_m }{ i_m }|&lt;em&gt;{i_n = 0} &amp;amp; n = m  \ (Input \ Impedance) \\
\dfrac{ V_m }{ i_n }|&lt;/em&gt;{i_m = 0} &amp;amp; n \neq m \ (Transfering \ Impedance)
\end{cases}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;hybrid--transfer-parameters&#34;&gt;Hybrid &amp;amp; Transfer Parameters&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\begin{bmatrix}
v_1\\
i_2
\end{bmatrix} &amp;amp;= \begin{bmatrix}
h_{11} &amp;amp; h_{12}\\
h_{21} &amp;amp; h_{22}
\end{bmatrix} \begin{bmatrix}
i_1\\
v_2
\end{bmatrix} \\
\begin{bmatrix}
v_1\\
i_1
\end{bmatrix} &amp;amp;=  \begin{bmatrix}
A &amp;amp; B\\
C &amp;amp; D
\end{bmatrix} \begin{bmatrix}
v_2\\
-i_2
\end{bmatrix} \\
[ABCD] &amp;amp;= \begin{bmatrix}
A &amp;amp; B\\
C &amp;amp; D
\end{bmatrix} \\
&amp;amp;= \begin{bmatrix}
\dfrac{ v_1 }{ v_2 } &amp;amp; - \dfrac{ v_1 }{ i_2 }\\
\dfrac{ i_1 }{ v_2 } &amp;amp; - \dfrac{ i_1 }{ i_2 }
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;transfer-matrix&#34;&gt;Transfer Matrix&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;串联阻抗$Z$的二端口网络&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/18.png&#34;
	width=&#34;1078&#34;
	height=&#34;492&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/18_hude6949af7d1cd0e4cfeed4cce06c3a70_147421_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/18_hude6949af7d1cd0e4cfeed4cce06c3a70_147421_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;219&#34;
		data-flex-basis=&#34;525px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$v_2 = 0$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$i_1 = -i_2 = \dfrac{ v_1 }{ Z }$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$i_2 = 0$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$i_1 = -i_2 = 0, v_1 = v_2$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[ABCD] &amp;amp;= \begin{bmatrix}
1 &amp;amp; Z\\
0 &amp;amp; 1
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;并联导纳$Y$的二端口网络&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/19.png&#34;
	width=&#34;1156&#34;
	height=&#34;600&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/19_hu2ff3fd112dab77a08e39f807ef6db860_160407_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/19_hu2ff3fd112dab77a08e39f807ef6db860_160407_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;192&#34;
		data-flex-basis=&#34;462px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[ABCD] &amp;amp;= \begin{bmatrix}
1 &amp;amp; 0\\
Y &amp;amp; 1
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;t型网络&#34;&gt;T型网络&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/20.png&#34;
	width=&#34;1102&#34;
	height=&#34;518&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/20_hu42633d76ea65e64a389ab84225299f73_165669_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/20_hu42633d76ea65e64a389ab84225299f73_165669_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;212&#34;
		data-flex-basis=&#34;510px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以看成串联阻抗和并联导纳的Cascade&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[ABCD] &amp;amp;= \begin{bmatrix}
1 + \dfrac{ Z_A }{ Z_C } &amp;amp; Z_A + Z_B + \dfrac{ Z_A Z_B }{ Z_C }\\
\dfrac{ 1 }{ Z_C } &amp;amp; 1 + \dfrac{ Z_B }{ Z_C }
\end{bmatrix} \\
&amp;amp;= \begin{bmatrix}
1 &amp;amp; Z_A \\
0 &amp;amp; 1
\end{bmatrix} \begin{bmatrix}
1 &amp;amp; 0\\
\dfrac{ 1 }{ Z_C } &amp;amp; 1
\end{bmatrix} \begin{bmatrix}
1 &amp;amp; Z_B\\
0 &amp;amp; 1
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;pi型网络&#34;&gt;$\pi$型网络&lt;/h4&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/21.png&#34;
	width=&#34;1072&#34;
	height=&#34;402&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/21_hu9c46945a293ab3c271e0758486409af7_120556_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/21_hu9c46945a293ab3c271e0758486409af7_120556_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;266&#34;
		data-flex-basis=&#34;640px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[ABCD] &amp;amp;= \begin{bmatrix}
1 + \dfrac{ Y_B }{ Y_C } &amp;amp; \dfrac{ 1 }{ Y_C }\\
Y_A + Y_B + \dfrac{ Y_A Y_B }{ Y_C } &amp;amp; 1 + \dfrac{ Y_A }{ Y_C }
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;uniform-transmission-line&#34;&gt;Uniform Transmission Line&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;包含了$\dfrac{ \lambda }{ 4 }, \dfrac{ \lambda }{ 2 }$传输线的$T$矩阵&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[ABCD] &amp;amp;= \begin{cases}
\begin{bmatrix}
cos( \beta l) &amp;amp; jZ_0 sin( \beta l)\\
j \dfrac{ 1 }{ Z_0 } sin( \beta l) &amp;amp; cos( \beta l)
\end{bmatrix} &amp;amp; General \\
\begin{bmatrix}
0 &amp;amp; j Z_0 \\
\dfrac{ j }{ Z_0 } &amp;amp; 0 &amp;amp; \theta = \dfrac{ \lambda }{ 4 }
\end{bmatrix} &amp;amp; \theta = \dfrac{ \lambda }{ 4 } \\
\begin{bmatrix}
-1 &amp;amp; 0 \\
0 &amp;amp; -1
\end{bmatrix} &amp;amp; \theta = \dfrac{ \lambda }{ 2 }
\end{cases}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;high-frequency&#34;&gt;High Frequency&lt;/h3&gt;
&lt;h4 id=&#34;scattered-parameter&#34;&gt;Scattered Parameter&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;Normalized Parameter&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/13.png&#34;
	width=&#34;1214&#34;
	height=&#34;414&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/13_hu2ef49677ef4df4e3bf82d5be6b68a970_229607_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/13_hu2ef49677ef4df4e3bf82d5be6b68a970_229607_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;293&#34;
		data-flex-basis=&#34;703px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Normalized Voltage&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
a_1 &amp;amp;= \frac{ V_1^+ }{ \sqrt{ Z_{01} } } \\
b_1 &amp;amp;= \frac{ V_1^- }{ \sqrt{ Z_{01} } } \\
a_2 &amp;amp;= \frac{ V_2^+ }{ \sqrt{ Z_{02} } } \\
b_2 &amp;amp;= \frac{ V_2^- }{ \sqrt{ Z_{02} } } \\
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Normalized Power&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
P(x&amp;rsquo;) &amp;amp;= \frac{ |V^+(x&amp;rsquo;)|^2 }{ 2Z_0 } \Big[ 1 - | \Gamma(x&amp;rsquo;)|^2 \Big] = P^+(x&amp;rsquo;) - P^-(x&amp;rsquo;) \\
P_1 &amp;amp;= \frac{ 1 }{ 2 } ( |a_1|^2 - |b_1|^2 ) \\
P_2 &amp;amp;= \frac{ 1 }{ 2 } ( |a_2|^2 - |b_2|^2 )
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h4 id=&#34;s-parameter&#34;&gt;S Parameter&lt;/h4&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[b] &amp;amp;= [S] [a] \\
[S] &amp;amp;= \begin{bmatrix}
S_{11} &amp;amp; S_{12}\\
S_{21} &amp;amp; S_{22}
\end{bmatrix} = \begin{bmatrix}
\dfrac{ b_1 }{ a_1 }|&lt;em&gt;{a_2 = 0} &amp;amp; \dfrac{ b_1 }{ a_2 }|&lt;/em&gt;{a_1 = 0} \\
\dfrac{ b_2 }{ a_1 }|&lt;em&gt;{a_2 =0} &amp;amp; \dfrac{ b_2 }{ a_2 }|&lt;/em&gt;{a_1 = 0}
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h2 id=&#34;4-ports-network&#34;&gt;4-Ports Network&lt;/h2&gt;
&lt;h3 id=&#34;schematic&#34;&gt;Schematic&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/a1-coupler/10.png&#34;
	width=&#34;3214&#34;
	height=&#34;1590&#34;
	srcset=&#34;https://downeyflyfan.com/p/a1-coupler/10_hu608ad56feeb36a2206dcb59e2c68cb53_1800561_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/a1-coupler/10_hu608ad56feeb36a2206dcb59e2c68cb53_1800561_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;202&#34;
		data-flex-basis=&#34;485px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$P_1$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Input Power $P_{in}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$P_2$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Forward Power $P_f$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$P_3$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Reflected Power $P_r$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$P_4$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Coupled Power $P_c$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;factors&#34;&gt;Factors&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Coupling Factor&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$C = 10 \cdot lg( \dfrac{ P_i }{ P_c })$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Directivity&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$D = 10  \cdot lg( \dfrac{ P_f }{ P_r})$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Isolation&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$I = 10 \cdot lg( \dfrac{ P_i }{ P_r })$，隔离&lt;strong&gt;输入与反射&lt;/strong&gt;，&lt;strong&gt;输出与耦合&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;s-parameter-analysis-in-idealized-case&#34;&gt;S Parameter Analysis In Idealized Case&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Idealized Case&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;4 Ports are Matched&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$S_{11} = S_{22} = S_{33} = S_{44} = 0$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;It follows the property of &lt;strong&gt;symmetry&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$S_{ij} = S_{ji}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;1 &amp;amp; 3, 2 &amp;amp; 4&lt;/strong&gt; are isolated&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$S_{13} = S_{31} = S_{24} = S_{42} = 0$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Equal Forward Power&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$S_{12} = S_{34} = P$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Equal Coupled Power&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$S_{14} = S_{23} = Q$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Lossless&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$[S] \cdot [S]^* = I$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;对应端口阻抗相同&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Z_{ij} = Z_{ji}$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;S Matrix&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
[S] &amp;amp;= \begin{bmatrix}
0 &amp;amp; P &amp;amp; 0 &amp;amp; Q \\
P &amp;amp; 0 &amp;amp; Q &amp;amp; 0 \\
0 &amp;amp; Q &amp;amp; 0 &amp;amp; P \\
Q &amp;amp; 0 &amp;amp; P &amp;amp; 0
\end{bmatrix}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
\because [S] \cdot [S]^* &amp;amp;= I \\
\therefore P^2 + Q^2 &amp;amp;= 1
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h1 id=&#34;appendix&#34;&gt;Appendix&lt;/h1&gt;
&lt;h2 id=&#34;triogonometric-function-formula&#34;&gt;Triogonometric Function Formula&lt;/h2&gt;
&lt;h3 id=&#34;rare-functions&#34;&gt;Rare Functions&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
tanh(x) &amp;amp;= \frac{ e^x - e^{-x} }{ e^x + e^{-x} } \\
atan2(x) &amp;amp;= \begin{cases}
tan^{-1}( \frac{ y }{ x }) &amp;amp; x &amp;gt; 0 \\
tan^{-1}( \frac{ y }{ x }) + \pi &amp;amp; x&amp;lt;0, y \ge 0 \\
tan^{-1}( \frac{ y }{ x }) - \pi &amp;amp; x&amp;lt;0, y &amp;lt; 0 \\
Error &amp;amp; x=0, y=0
\end{cases}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h3 id=&#34;common-formulas&#34;&gt;Common Formulas&lt;/h3&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
sin(2x) &amp;amp;= 2sin(x) cos(x) \\
cos(2x) &amp;amp;= cos^2(x) - sin^2(x) \\
&amp;amp;= 2cos^2(x) - 1 \\
&amp;amp;= 1  -2 sin^2(x)
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
sin^2(x) &amp;amp;= \frac{ 1-cos(2x) }{ 2 } \\
cos^2(x) &amp;amp;= \frac{ 1 + cos(2x) }{ 2 }
\end{aligned}
\end{gather}
$$&lt;/p&gt;
&lt;h2 id=&#34;time--frequency-domain&#34;&gt;Time , Frequency Domain&lt;/h2&gt;
&lt;p&gt;$$
\begin{gather}
\begin{aligned}
t \longleftrightarrow e^{-j \omega t}
\end{aligned}
\end{gather}
$$&lt;/p&gt;
</description>
        </item>
        <item>
        <title>EDA</title>
        <link>https://downeyflyfan.com/p/eda/</link>
        <pubDate>Mon, 23 Oct 2023 17:10:01 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/eda/</guid>
        <description>&lt;h1 id=&#34;cadence-virtuoso&#34;&gt;Cadence Virtuoso&lt;/h1&gt;
&lt;h2 id=&#34;字体调整&#34;&gt;字体调整&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hiSetFont(&amp;#34;ciw&amp;#34; ?size 20) # 修改text文字大小为20
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hiSetFont(&amp;#34;label&amp;#34; ?size 20) # 修改Toolbar文字大小为20
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;layout&#34;&gt;Layout&lt;/h2&gt;
&lt;h3 id=&#34;layers&#34;&gt;Layers&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;总述&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;|名称|意义|&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Metal Layer&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;金属互连层，连接Transistors和其他元件&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Transistors Layer&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;有很多层&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Contact layers&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;不同层之间的接触&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;PO&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;定义&lt;strong&gt;Power&lt;/strong&gt;和&lt;strong&gt;GND&lt;/strong&gt;的布线，提供&lt;strong&gt;电源&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Routing&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;信号的布线&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Geometry&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;辅助形状或标记&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Transistor Layers&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;AP&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Active Layer, 晶体管多层栅极层&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;PO&lt;/li&gt;
&lt;/ol&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Purpose&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;解释&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Ivs&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;模拟芯片当前区域的当前消耗&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Pin&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;分析引脚处的电压&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;drw(drawing)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;绘制布局的物理层&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;dm&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;两个布图形状之间的最小距离&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;prob&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;布图违反&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;generation&#34;&gt;Generation&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;PR Boundary&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Placement Region Boundary, 限定布局区域，起到保护作用&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Floorplan&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;芯片各个模块和组件的排布位置&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;ade&#34;&gt;ADE&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;概念&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Do Noise (Yes/No)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;考虑&lt;strong&gt;Thermal/Shot Noise&lt;/strong&gt;, $T \uparrow \longrightarrow $ Carrier Motions $\uparrow \longrightarrow$; Carriers 穿过 &lt;strong&gt;Barrier&lt;/strong&gt;产生随机噪声&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;YP&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;交流信号分析&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ZM&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;Impedance Matrix&lt;/strong&gt;, $\begin{bmatrix} Z_{11} \ Z_{12} \ Z_{21} \ Z_{22} \end{bmatrix}$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;appendix&#34;&gt;Appendix&lt;/h1&gt;
&lt;h2 id=&#34;人工传输线&#34;&gt;人工传输线&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;传输特性：人工传输线具有特定的传输特性，如传输速度、带宽、传输损耗、传输延迟和噪声等。这些特性直接影响信号的传输质量和可靠性。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;阻抗匹配：为了最大限度地减少信号反射和传输损耗，人工传输线需要与连接的设备之间的阻抗进行匹配。阻抗不匹配会导致信号反射和信号失真。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;传输模式：人工传输线可以支持不同的传输模式，如单端传输和差分传输。差分传输常用于抑制噪声和提高信号抗干扰能力。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;传输介质：人工传输线可以采用不同的传输介质，包括金属导线（如铜线）、光纤和空气介质等。每种介质都有其特定的传输特性和应用领域。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;传输线理论：人工传输线的行为可以通过传输线理论进行建模和分析。传输线理论考虑了电磁波在传输线上的传播、反射、折射和衰减等现象，以帮助设计和优化传输线的性能。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;师兄的项目&#34;&gt;师兄的项目&lt;/h2&gt;
&lt;h3 id=&#34;2-18ghz-硅基功率放大器&#34;&gt;2-18GHz 硅基功率放大器&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Peaking inductor&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;$C_{GS}$, $C_L$&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Intra-Stack Coupling&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;低功耗抗干扰fsk-调制调解器&#34;&gt;低功耗抗干扰FSK 调制调解器&lt;/h3&gt;
&lt;h3 id=&#34;谐波抑制器&#34;&gt;谐波抑制器&lt;/h3&gt;
&lt;h3 id=&#34;前馈线性化&#34;&gt;前馈线性化&lt;/h3&gt;
&lt;h2 id=&#34;short-academic-phrases&#34;&gt;Short Academic Phrases&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;定义&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;ATL(Active Transistor Level)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;分为4个等级，等级越高，晶体管的参数越详细&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;PAE(Power Added Efficiency)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;输出和输入之间的&lt;strong&gt;功率转化效率(%)&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Stack Distributed Power Amplifier&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Refactoring&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Logic/Layout/Time-Sequence/Power Consumption Refactoring&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Process Corner&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;工艺角描述了芯片在不同工艺条件下的性能变化情况。这些条件包括工艺偏移、温度变化和电压变化&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;DRC&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Design Rule Check，检查&lt;strong&gt;最短距离, 线宽, 层间距离, 射频规则, 器件尺寸、延伸规则&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;BGR&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Bandgap Reference, 带隙基准电压源,输出电压&lt;strong&gt;精度高&lt;/strong&gt;，且&lt;strong&gt;稳定&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;CMN/CLN/CRN&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;CMOS Mobile Normal, CMOS Logic Normal，CMOS Radio Frequency Normal，三种台积电工艺&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;PDK&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Process Design Kit, 设计套件&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;GDSII&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Graphic Data System II，IC的实际版图信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;isolation zero(零点)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;传输函数零点&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Impedance Match&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;通过阻抗匹配，&lt;strong&gt;提高增益，减小噪声&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Microstrip Parallel Coupled Lines&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;微带平行耦合线，通过耦合传递能量&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Even/Odd Mode&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;偶模电流方向相同，电场方向相反,电场紧密耦合，实现耦合；奇模电流方向相反，电场方向相同, 磁场紧密耦合，实现隔离&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;耦合&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;可以实现功率合成/分配，隔离&amp;hellip;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;FBW(Fractional Bandwidth)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;带宽相对于中心频率的比率: $\dfrac{ \omega_{B}}{ \omega_{C} } \times 100%$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\dfrac{\lambda_0}{ 4 }$ Transmission Line&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;传输线的电长度为90度,即电长度为信号波长λ的1/4。在线性的传输线中,λ/4长度会产生一个电压和电流的逆变换。可以用作为匹配网络,将阻抗从一个值变换到另一个值。&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Signal Condition Circuit&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;处理传感器输出信号，&lt;strong&gt;改善信号质量&lt;/strong&gt;的电路&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;IMD3&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Integral Model Level 3, 第三代晶体管模型，考虑了&lt;strong&gt;温度、Body effect, 功率变化&lt;/strong&gt;等更多因素&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;当前目标&#34;&gt;当前目标&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;S参数&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;小尺寸差分电桥&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>8. Feedback</title>
        <link>https://downeyflyfan.com/p/8.-feedback/</link>
        <pubDate>Mon, 16 Oct 2023 14:40:31 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/8.-feedback/</guid>
        <description>&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;
&lt;h2 id=&#34;characteristic-of-feedback-circuit&#34;&gt;Characteristic of Feedback Circuit&lt;/h2&gt;
&lt;h3 id=&#34;gain-sensitivity&#34;&gt;Gain Sensitivity&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/8.-feedback/1.png&#34;
	width=&#34;782&#34;
	height=&#34;418&#34;
	srcset=&#34;https://downeyflyfan.com/p/8.-feedback/1_hu9b715ddddc3a230e7403bd919b19867b_38763_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/8.-feedback/1_hu9b715ddddc3a230e7403bd919b19867b_38763_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;187&#34;
		data-flex-basis=&#34;448px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\frac{ Y }{ X } =
\begin{cases}
\dfrac{ A }{ 1 + A \beta } \\
\dfrac{ 1 }{ \beta } &amp;amp; A \beta \gg 1
\end{cases}
\end{equation}
$$&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$A \beta$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Loop gain&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$A$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;越大，电路就越准确&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;band-width&#34;&gt;Band Width&lt;/h3&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= \frac{ A(s) }{ 1 + A(s) \beta }  \\
&amp;amp;= \frac{ \dfrac{ A_0 }{ 1 + A_0 \beta } }{ 1 + \dfrac{ s }{  (1 + A \beta) \omega_0} }
\end{aligned}
$$&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$3dB$带宽&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;增加了$A \beta$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;增益&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;减小&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;non-linear-reduction&#34;&gt;Non-Linear Reduction&lt;/h3&gt;
&lt;h2 id=&#34;types-of-amplifiers&#34;&gt;Types of Amplifiers&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/8.-feedback/2.png&#34;
	width=&#34;2540&#34;
	height=&#34;1620&#34;
	srcset=&#34;https://downeyflyfan.com/p/8.-feedback/2_hu57e8a14d0352ea5800cd9dd00473ed4c_442107_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/8.-feedback/2_hu57e8a14d0352ea5800cd9dd00473ed4c_442107_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;156&#34;
		data-flex-basis=&#34;376px&#34;
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;feedback-structure&#34;&gt;Feedback Structure&lt;/h1&gt;
&lt;h2 id=&#34;v-v-feedback&#34;&gt;V-V Feedback&lt;/h2&gt;
&lt;h3 id=&#34;circuit&#34;&gt;Circuit&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/8.-feedback/3.png&#34;
	width=&#34;1068&#34;
	height=&#34;1544&#34;
	srcset=&#34;https://downeyflyfan.com/p/8.-feedback/3_hu872096b5308f1fb3343002ca8f6c8412_186182_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/8.-feedback/3_hu872096b5308f1fb3343002ca8f6c8412_186182_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;69&#34;
		data-flex-basis=&#34;166px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;impedence&#34;&gt;Impedence&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Output Impedence&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/8.-feedback/4.png&#34;
	width=&#34;1098&#34;
	height=&#34;504&#34;
	srcset=&#34;https://downeyflyfan.com/p/8.-feedback/4_hufb8c4a6f09e1aadf0346fa7de9057536_73571_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/8.-feedback/4_hufb8c4a6f09e1aadf0346fa7de9057536_73571_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;217&#34;
		data-flex-basis=&#34;522px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_F &amp;amp;= \beta V_X \\
V_e &amp;amp;= - \beta V_X \\
V_M &amp;amp;= - A_0 \beta V_X \\
R_{out} &amp;amp;= \frac{ V_X - V_M }{ I_X }
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\frac{ V_X }{ I_X } = \frac{ R_{out} }{  1 + A \beta}
\end{equation}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Input Impedence&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/8.-feedback/5.png&#34;
	width=&#34;812&#34;
	height=&#34;504&#34;
	srcset=&#34;https://downeyflyfan.com/p/8.-feedback/5_hub1328ae440757763602aa662a3ef9dea_68059_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/8.-feedback/5_hub1328ae440757763602aa662a3ef9dea_68059_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;161&#34;
		data-flex-basis=&#34;386px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_e &amp;amp;= I_X R_{in} \\
V_F &amp;amp;= A_0 \beta V_e \\
V_e &amp;amp;= V_X - V_F
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\frac{ V_X }{ I_X } = (1 + A_0 \beta) R_{in}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;other-feedback-strcuture--summary&#34;&gt;Other Feedback Strcuture &amp;amp; Summary&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Types&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$V_{in}$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$V_{out}$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$V-V$(Voltage)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$( 1 + A \beta) R_{in}$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\dfrac{ R_{out}}{ 1 + A \beta }$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$V-I$(Transconductance)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$( 1 + A \beta) R_{in}$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$( 1 + A \beta) R_{out}$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$I-V$(Transresistance)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\dfrac{ R_{in}}{ 1 + A \beta }$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\dfrac{ R_{out}}{ 1 + A \beta }$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$I-I$(Current)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\dfrac{ R_{in}}{ 1 + A \beta }$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$( 1 + A \beta) R_{out}$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;feedback-influecing-noise&#34;&gt;Feedback Influecing Noise&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/8.-feedback/6.png&#34;
	width=&#34;1076&#34;
	height=&#34;558&#34;
	srcset=&#34;https://downeyflyfan.com/p/8.-feedback/6_hu6d3cdc39be347f4c907719bc41add57a_56672_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/8.-feedback/6_hu6d3cdc39be347f4c907719bc41add57a_56672_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;192&#34;
		data-flex-basis=&#34;462px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out} &amp;amp;= (V_{in} - \beta V_{out} + V_n) A \\
\therefore V_{out} &amp;amp;= \frac{ A }{ 1 + A \beta } ( V_{in} + V_n)
\end{aligned}
$$&lt;/p&gt;
</description>
        </item>
        <item>
        <title>1-2.Basic_Device</title>
        <link>https://downeyflyfan.com/p/1-2.basic_device/</link>
        <pubDate>Sun, 15 Oct 2023 20:21:21 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/1-2.basic_device/</guid>
        <description>&lt;h1 id=&#34;mos-structuroe&#34;&gt;MOS Structuroe&lt;/h1&gt;
&lt;h2 id=&#34;pmos&#34;&gt;PMOS&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/1-2.basic_device/1.png&#34;
	width=&#34;2612&#34;
	height=&#34;1492&#34;
	srcset=&#34;https://downeyflyfan.com/p/1-2.basic_device/1_huf8648bbc559f003bc0e56cf07f4e5b57_599028_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/1-2.basic_device/1_huf8648bbc559f003bc0e56cf07f4e5b57_599028_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;175&#34;
		data-flex-basis=&#34;420px&#34;
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;second-order-effect&#34;&gt;Second-Order Effect&lt;/h1&gt;
&lt;h2 id=&#34;body-effect&#34;&gt;Body Effect&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/1-2.basic_device/2.png&#34;
	width=&#34;2336&#34;
	height=&#34;778&#34;
	srcset=&#34;https://downeyflyfan.com/p/1-2.basic_device/2_hu197425e9d4a3e3b504d0270ff3ab1e4f_380793_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/1-2.basic_device/2_hu197425e9d4a3e3b504d0270ff3ab1e4f_380793_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;300&#34;
		data-flex-basis=&#34;720px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$V_B \downarrow, Q_d \uparrow \Longrightarrow V_{TH} \uparrow$&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;channal-length-modulation&#34;&gt;Channal Length Modulation&lt;/h2&gt;
&lt;p&gt;$$
\begin{equation}
r_o = \frac{ 1 }{ \lambda I_D }
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;subthreshold-conduction&#34;&gt;Subthreshold Conduction&lt;/h2&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
g_{mb} &amp;amp;= \frac{ \partial I_D }{ \partial V_{SB} }  \\
&amp;amp;= k_n V_{OV} ( - \frac{ \partial V_{TH} }{ V_{BS} }) \\
&amp;amp;= \eta g_m
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;mos-capacitances&#34;&gt;MOS Capacitances&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/5.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>14. Oscillators</title>
        <link>https://downeyflyfan.com/p/14.-oscillators/</link>
        <pubDate>Wed, 20 Sep 2023 16:36:38 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/14.-oscillators/</guid>
        <description>&lt;h1 id=&#34;震荡的条件-barkhausens-criteria&#34;&gt;震荡的条件 (Barkhausen&amp;rsquo;s criteria)&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/14.-oscillators/1.png&#34;
	width=&#34;916&#34;
	height=&#34;450&#34;
	srcset=&#34;https://downeyflyfan.com/p/14.-oscillators/1_hu2151470cfeb47d68a2ea85e343d74a19_35414_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/14.-oscillators/1_hu2151470cfeb47d68a2ea85e343d74a19_35414_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;203&#34;
		data-flex-basis=&#34;488px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个系统在$\omega_0$ 附近&lt;strong&gt;Oscillate&lt;/strong&gt;的&lt;strong&gt;充分&lt;/strong&gt;条件是&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{align}
\angle H(s) &amp;amp;= 180 ^\circ  \\
|H(s)| &amp;amp;\ge 0
\end{align}
$$&lt;/p&gt;
&lt;h1 id=&#34;ring-oscillators&#34;&gt;Ring Oscillators&lt;/h1&gt;
&lt;h2 id=&#34;one-pole--two-pole-feedback-system&#34;&gt;One-Pole &amp;amp; Two-Pole Feedback System&lt;/h2&gt;
&lt;h3 id=&#34;one-pole&#34;&gt;One-Pole&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/14.-oscillators/2.png&#34;
	width=&#34;662&#34;
	height=&#34;558&#34;
	srcset=&#34;https://downeyflyfan.com/p/14.-oscillators/2_hufc0718b25b4a9262db1aff803c7f06c1_32834_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/14.-oscillators/2_hufc0718b25b4a9262db1aff803c7f06c1_32834_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;118&#34;
		data-flex-basis=&#34;284px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;当$\omega_0 \longrightarrow \infin$，Pole会产生$90 ^\circ$的Phase Shift&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;CS Stage&lt;/strong&gt; 产生$180 ^\circ$的Phase Shift&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;故$\angle H(s) = 270 ^\circ$，&lt;strong&gt;无法Oscillate&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;two-pole&#34;&gt;Two-Pole&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/14.-oscillators/3.png&#34;
	width=&#34;1100&#34;
	height=&#34;552&#34;
	srcset=&#34;https://downeyflyfan.com/p/14.-oscillators/3_hu92638cb0c8021fd083fafd56022bdd8a_49739_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/14.-oscillators/3_hu92638cb0c8021fd083fafd56022bdd8a_49739_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;199&#34;
		data-flex-basis=&#34;478px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
V_E &amp;amp;= \frac{R_{on}}{R_{on} + R_D} V_{DD} \\
R_{on} &amp;amp;= \frac{V_E}{I_D} \\
I_D &amp;amp;= \frac{1}{2} k_n (V_E - V_t)^2 \\
\therefore
V_E &amp;amp;= \frac{V_{DD}}{1 + k_n R_D (V_{in} - V_t)}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;分析电路&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;2 CS Stage&lt;/strong&gt; $\omega_0 \longrightarrow 0 \Longrightarrow \angle H(s) = 360 ^\circ$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;根据&lt;strong&gt;Equation (3)&lt;/strong&gt;, $V_E \uparrow \Longrightarrow V_F \downarrow \Longrightarrow V_E \uparrow \Longrightarrow M_1 \ Closed$&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;电路增益曲线&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/14.-oscillators/4.png&#34;
	width=&#34;1414&#34;
	height=&#34;1060&#34;
	srcset=&#34;https://downeyflyfan.com/p/14.-oscillators/4_hu407a410ffce42ddf406156dd4e906d57_112878_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/14.-oscillators/4_hu407a410ffce42ddf406156dd4e906d57_112878_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;133&#34;
		data-flex-basis=&#34;320px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;three-stage-ring-oscillator&#34;&gt;Three-Stage Ring Oscillator&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/14.-oscillators/5.png&#34;
	width=&#34;1408&#34;
	height=&#34;578&#34;
	srcset=&#34;https://downeyflyfan.com/p/14.-oscillators/5_hu2d0ac56f6d1406702a7f3238e6ebe0be_67508_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/14.-oscillators/5_hu2d0ac56f6d1406702a7f3238e6ebe0be_67508_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;243&#34;
		data-flex-basis=&#34;584px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;oscillating-frequency-and-transfer-function&#34;&gt;Oscillating Frequency and Transfer Function&lt;/h3&gt;
&lt;p&gt;$$
\begin{aligned}
\angle H(s)  &amp;amp;= 180 ^\circ  \\
\therefore \angle H(s)&lt;em&gt;{each \ stage} &amp;amp;= 60 ^\circ  \\
\therefore tan^{-1}\frac{\omega&lt;/em&gt;{osc}}{\omega_0} &amp;amp;= 60 ^\circ  \\
\omega_{osc} &amp;amp;= \sqrt{3} \omega_0
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
H(s) = -\frac{A_0^3}{(1 + \dfrac{s}{\omega_0})^3}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;loop-gain--1&#34;&gt;Loop Gain = 1&lt;/h3&gt;
&lt;p&gt;$$
\begin{aligned}
|H(s)| &amp;amp;= 0 \\
A_0 &amp;amp;= 2
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;gain&#34;&gt;Gain&lt;/h3&gt;
&lt;p&gt;$$
\begin{align}
A_v &amp;amp;= \frac{H(s)}{1 - H(s)} \\
&amp;amp;= - \frac{A_0^3}{A_0^3 + (1+s/\omega_0)^3}
\end{align}
$$&lt;/p&gt;
&lt;h3 id=&#34;time-delay&#34;&gt;Time Delay&lt;/h3&gt;
&lt;p&gt;$$
\begin{align}&lt;/p&gt;
&lt;p&gt;\end{align}
$$&lt;/p&gt;
</description>
        </item>
        <item>
        <title>15. Phase-Locked Loops</title>
        <link>https://downeyflyfan.com/p/15.-phase-locked-loops/</link>
        <pubDate>Thu, 20 Jul 2023 15:18:41 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/15.-phase-locked-loops/</guid>
        <description>&lt;h1 id=&#34;type-i-pll-topology&#34;&gt;Type I PLL Topology&lt;/h1&gt;
&lt;h2 id=&#34;原理图&#34;&gt;原理图&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/3.png&#34;
	width=&#34;1592&#34;
	height=&#34;338&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/3_hu251524a7eb1f7783b57990e283e34b8d_62060_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/3_hu251524a7eb1f7783b57990e283e34b8d_62060_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;471&#34;
		data-flex-basis=&#34;1130px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Phase Locking&lt;/strong&gt;: Align the &lt;strong&gt;Output Phase of VCO&lt;/strong&gt; and &lt;strong&gt;Phase of the reference&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用&lt;strong&gt;LPF&lt;/strong&gt;除去&lt;strong&gt;AC Signal&lt;/strong&gt;，保留&lt;strong&gt;DC signal&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;为了定义&lt;strong&gt;Phase Lock Condition&lt;/strong&gt;, 我们需要使得$\phi_{out} - \phi_{in}$ 保持不变, 也就是&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
\frac{d\phi_{out}}{dt} - \frac{d\phi_{in}}{\phi_{in}} &amp;amp;= 0 \\
\omega_{out} &amp;amp;= \omega_{in}
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;一个简单的pll&#34;&gt;一个简单的PLL&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/4.png&#34;
	width=&#34;1592&#34;
	height=&#34;934&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/4_hu8852373319c64f398bde64141a7afeee_127320_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/4_hu8852373319c64f398bde64141a7afeee_127320_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;170&#34;
		data-flex-basis=&#34;409px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;用&lt;strong&gt;XOR&lt;/strong&gt;作&lt;strong&gt;PD&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用&lt;strong&gt;LC&lt;/strong&gt;电路作&lt;strong&gt;LPF&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;phase-detector&#34;&gt;Phase Detector&lt;/h1&gt;
&lt;h2 id=&#34;io关系&#34;&gt;I/O关系&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/1.png&#34;
	width=&#34;2130&#34;
	height=&#34;598&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/1_hu72121d686215633477d48e5f4a3f0f02_97867_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/1_hu72121d686215633477d48e5f4a3f0f02_97867_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;356&#34;
		data-flex-basis=&#34;854px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
\overline{V_{out}} &amp;amp;= K_{PD}\Delta \phi \\
Gain &amp;amp;= K_{PD}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$K_{PD}$单位为$V/rad$&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;实现方式&#34;&gt;实现方式&lt;/h2&gt;
&lt;h3 id=&#34;通过xor实现phase-detect&#34;&gt;通过XOR实现Phase Detect&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;电路和时序图&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/2.png&#34;
	width=&#34;2446&#34;
	height=&#34;798&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/2_hu1fb1db7455e2f543c159dd5501b232fd_168868_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/2_hu1fb1db7455e2f543c159dd5501b232fd_168868_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;306&#34;
		data-flex-basis=&#34;735px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;不同&lt;strong&gt;相位差&lt;/strong&gt;下的&lt;strong&gt;时序图&lt;/strong&gt;和&lt;strong&gt;输出电压变化&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/7.png&#34;
	width=&#34;2220&#34;
	height=&#34;1462&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/7_hu7e6752b2b71f7a45bbb9007d843a3e22_397695_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/7_hu7e6752b2b71f7a45bbb9007d843a3e22_397695_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;151&#34;
		data-flex-basis=&#34;364px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;pfd-phasefrequency-detector&#34;&gt;PFD (Phase/Frequency Detector)&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;操作&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/16.png&#34;
	width=&#34;2196&#34;
	height=&#34;1214&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/16_hu4bde4d5fbe536134124d369c6210fa16_128728_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/16_hu4bde4d5fbe536134124d369c6210fa16_128728_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;180&#34;
		data-flex-basis=&#34;434px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$Q_A$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$Q_B$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;UP Pulses&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Down Pulses&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;电路图&#34;&gt;电路图&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;总体结构&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/8.png&#34;
	width=&#34;716&#34;
	height=&#34;906&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/8_hufadc99752c9fd22bd2882beb81d7c23a_63734_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/8_hufadc99752c9fd22bd2882beb81d7c23a_63734_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;79&#34;
		data-flex-basis=&#34;189px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;门电路&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/9.png&#34;
	width=&#34;1072&#34;
	height=&#34;830&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/9_hu4594b582d14e4b151c9eb85da94bef93_135096_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/9_hu4594b582d14e4b151c9eb85da94bef93_135096_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;129&#34;
		data-flex-basis=&#34;309px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;CMOS电路&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/17.png&#34;
	width=&#34;1550&#34;
	height=&#34;774&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/17_hue87a8e5f5e2b5c49088183e4df9882ae_133599_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/17_hue87a8e5f5e2b5c49088183e4df9882ae_133599_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;200&#34;
		data-flex-basis=&#34;480px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;效果&#34;&gt;效果&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;当频率很低时，就成了一个&lt;strong&gt;PD&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;charge-pump&#34;&gt;Charge Pump&lt;/h2&gt;
&lt;h3 id=&#34;结构图&#34;&gt;结构图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/10.png&#34;
	width=&#34;258&#34;
	height=&#34;1100&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/10_hu25dad9b85bea5cec6b968e553a857b15_41666_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/10_hu25dad9b85bea5cec6b968e553a857b15_41666_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;23&#34;
		data-flex-basis=&#34;56px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;优化&#34;&gt;优化&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/15.png&#34;
	width=&#34;1174&#34;
	height=&#34;756&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/15_hua036993368a3b24386fc8aa24fbf66a2_101109_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/15_hua036993368a3b24386fc8aa24fbf66a2_101109_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;155&#34;
		data-flex-basis=&#34;372px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;用MOSFET做&lt;strong&gt;电流源&lt;/strong&gt;和&lt;strong&gt;开关&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;用一个&lt;strong&gt;CMOS Pass Gate&lt;/strong&gt;来达到与$Q_A$相同的&lt;strong&gt;delay&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;dynamics-of-cppll&#34;&gt;Dynamics of CPPLL&lt;/h2&gt;
&lt;h3 id=&#34;is-it-a-linear-system&#34;&gt;Is it a Linear System?&lt;/h3&gt;
&lt;h3 id=&#34;transfer-function-of-pdfcplpf&#34;&gt;Transfer Function of PDF/CP/LPF&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Step Response of &lt;strong&gt;PDF/CP/LPF&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/11.png&#34;
	width=&#34;1646&#34;
	height=&#34;1140&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/11_hu2d8bcc91b693cf82d0977b4a3cf54031_138381_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/11_hu2d8bcc91b693cf82d0977b4a3cf54031_138381_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;144&#34;
		data-flex-basis=&#34;346px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;$I_P$为CP电流&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$C_P$为LPF的电容&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Transfer Function&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out}(t) &amp;amp;= \frac{I_P}{2\pi C_P} t \Delta \phi u(t) \\
\therefore h(t) &amp;amp;= \frac{I_P}{2\pi C_P} u(t) \\
\therefore H(s) &amp;amp;= \frac{V_{out}(t)}{\Delta \phi}(s) \\
&amp;amp;= \frac{I_P}{2\pi C_P} \cdot \frac{1}{s}
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;simple-cppll&#34;&gt;Simple CPPLL&lt;/h2&gt;
&lt;h3 id=&#34;原理图-1&#34;&gt;原理图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/12.png&#34;
	width=&#34;1762&#34;
	height=&#34;636&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/12_hud170981836732317705c86caef508fc8_106383_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/12_hud170981836732317705c86caef508fc8_106383_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;277&#34;
		data-flex-basis=&#34;664px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;电路图-1&#34;&gt;电路图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/13.png&#34;
	width=&#34;1752&#34;
	height=&#34;1136&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/13_hucd8ffabfe66195200ac109e0a48770fe_161902_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/13_hucd8ffabfe66195200ac109e0a48770fe_161902_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;154&#34;
		data-flex-basis=&#34;370px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;分析&#34;&gt;分析&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;为了稳定电路，增加了一个$R_P$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
\frac{\Phi_{out}}{\Phi_{in}}(s)|&lt;em&gt;{open} &amp;amp;= \frac{I_P}{2\pi} ({\frac{1}{sC_P} + R_P}) \frac{K&lt;/em&gt;{VCO}}{s} \\
\therefore H(s) &amp;amp;=
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;优化-1&#34;&gt;优化&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/14.png&#34;
	width=&#34;1844&#34;
	height=&#34;1136&#34;
	srcset=&#34;https://downeyflyfan.com/p/15.-phase-locked-loops/14_hu08823a88e2097f6473200a628dd0f350_172719_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/15.-phase-locked-loops/14_hu08823a88e2097f6473200a628dd0f350_172719_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;162&#34;
		data-flex-basis=&#34;389px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;增加一个$C_2$以减小&lt;strong&gt;Ripple&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;附录&#34;&gt;附录&lt;/h1&gt;
&lt;h2 id=&#34;gain-crossover&#34;&gt;Gain Crossover&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;增益（Gain）曲线和相位（Phase）曲线相交的位置&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>5. Passive and Active Current Mirror</title>
        <link>https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/</link>
        <pubDate>Sat, 15 Jul 2023 18:37:12 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/</guid>
        <description>&lt;h1 id=&#34;basic-current-mirrors&#34;&gt;Basic Current Mirrors&lt;/h1&gt;
&lt;h2 id=&#34;电路&#34;&gt;电路&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/1.png&#34;
	width=&#34;648&#34;
	height=&#34;620&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/1_hu189486e8a766185d5f436d0148a0aaff_50732_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/1_hu189486e8a766185d5f436d0148a0aaff_50732_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;104&#34;
		data-flex-basis=&#34;250px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;$\mu_n, C_{ox},W$ 一致&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$L$可以不同以提供&lt;strong&gt;增益&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;current&#34;&gt;Current&lt;/h2&gt;
&lt;p&gt;$$
\begin{aligned}
I_{out} &amp;amp;= \frac{1}{2} \mu_n C_{ox} (W/L)&lt;em&gt;1 (V&lt;/em&gt;{GS2} - V_{T2})^2 \\
I_{REF} &amp;amp;= \frac{1}{2} \mu_n C_{ox} (W/L)&lt;em&gt;2 (V&lt;/em&gt;{GS1} - V_{T2})^2
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
I_{out} = \frac{(W/L)_2}{(W/L)&lt;em&gt;1} \cdot I&lt;/em&gt;{REF}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;voltage-gain应用&#34;&gt;Voltage Gain(应用)&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/2.png&#34;
	width=&#34;900&#34;
	height=&#34;756&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/2_hu53a939ae4c5d2eefaaf2139e74c9b07f_63287_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/2_hu53a939ae4c5d2eefaaf2139e74c9b07f_63287_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;119&#34;
		data-flex-basis=&#34;285px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$M_2,M_3$ 构成BCM, $M_1$是&lt;strong&gt;CS&lt;/strong&gt;，$R_L$是$R_{out}$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
|A_v| = g_{m1} \frac{(W/L)_3}{(W/L)_2}R_L
$$&lt;/p&gt;
&lt;h1 id=&#34;cascode-current-mirrors&#34;&gt;Cascode Current Mirrors&lt;/h1&gt;
&lt;h2 id=&#34;出发点&#34;&gt;出发点&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;若考虑&lt;strong&gt;CLM&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
I_{out} &amp;amp;= I_{REF} \cdot \frac{(W/L)&lt;em&gt;2}{(W/L)&lt;em&gt;1} \cdot \frac{ 1 + \lambda V&lt;/em&gt;{DS1} }{ 1 + \lambda V&lt;/em&gt;{DS2} }
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;为了消除&lt;strong&gt;CLM&lt;/strong&gt;的影响，必须使得$V_{DS1} = V_{DS2}$，即$V_X = V_Y$&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cascode-current-mirror&#34;&gt;Cascode Current Mirror&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/4.png&#34;
	width=&#34;646&#34;
	height=&#34;884&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/4_hud1ee1ddcaf565b353d06f3425e012f19_67694_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/4_hud1ee1ddcaf565b353d06f3425e012f19_67694_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;73&#34;
		data-flex-basis=&#34;175px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;v_p-min&#34;&gt;$V_{p, min}$&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;为了让$M_3$工作在&lt;strong&gt;Saturation Region&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_p &amp;amp;\ge V_N - V_{TH} \\
V_p &amp;amp;\ge V_{GS0} + V_{GS1} - V_{TH} \\
V_p &amp;amp;\ge V_{OV1} + V_{OV0} + V_{TH}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_{p,min} = V_{OV1} + V_{OV0} + V_{TH}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;选择适当的mosfet&#34;&gt;选择适当的MOSFET&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;使得$\dfrac{(W/L)_3}{(W/L)_0} = \dfrac{(W/L)&lt;em&gt;2}{(W/L)&lt;em&gt;1}$, 这样可以满足$V_X = V_Y$, 从而$I&lt;/em&gt;{REF} = I&lt;/em&gt;{out}$,&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;low-voltage-cascode&#34;&gt;Low Voltage Cascode&lt;/h2&gt;
&lt;h3 id=&#34;电路图&#34;&gt;电路图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/8.png&#34;
	width=&#34;1804&#34;
	height=&#34;988&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/8_hu79cf7904d4e1b747e3e1e5526c4128c5_115268_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/8_hu79cf7904d4e1b747e3e1e5526c4128c5_115268_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;182&#34;
		data-flex-basis=&#34;438px&#34;
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;(a)中实际上是&lt;strong&gt;Cascode Stage Shorted&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;(b)即是&lt;strong&gt;Low Voltage Cascode&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;v_b范围&#34;&gt;$V_b$范围&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;为了让$M_1, M_2$工作在&lt;strong&gt;Saturation Region&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_X &amp;amp;\ge V_b - V_{TH2} \\
V_{GS1} &amp;amp;\ge V_b - V_{TH2} \\\
\\ V_A &amp;amp;\ge V_{GS1} - V_{TH1} \\
V_{b} - V_{GS1} &amp;amp;\ge V_{GS1} - V_{TH1}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_{GS2} + (V_{GS1} - V_{TH1}) \le V_b \le V_{GS1}+ V_{TH2}
\end{equation}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;进一步处理&lt;strong&gt;不等式&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
V_{GS2} \le V_{TH1} + V_{TH2}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;改良&#34;&gt;改良&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/9.png&#34;
	width=&#34;918&#34;
	height=&#34;958&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/9_hu6c7108a7e953f1c2780f9f7f198f8dba_73375_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/9_hu6c7108a7e953f1c2780f9f7f198f8dba_73375_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;95&#34;
		data-flex-basis=&#34;229px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$M_S$ is biased such that $V_{GS s} \approx V_{TH3}$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_{N&amp;rsquo;} &amp;amp;\approx V_N - V_{TH3} \\
\therefore V_B &amp;amp;\approx V_{N&amp;rsquo;} - V_{GS3} \\
&amp;amp;= V_{GS0} + V_{GS1} - V_{TH3} - V_{GS3} \\
&amp;amp;= V_{GS1} - V_{TH3}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_B \approx V_{GS1} - V_{TH3}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;题解&#34;&gt;题解&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/5.png&#34;
	width=&#34;684&#34;
	height=&#34;880&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/5_hu10d28ee6583ac3f22024e56bc43f164f_69606_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/5_hu10d28ee6583ac3f22024e56bc43f164f_69606_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;77&#34;
		data-flex-basis=&#34;186px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$I_{REF}$工作的最小电压为$0.5V$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_N &amp;amp;= V_{GS0} + V_{GS1} \\
&amp;amp;= \sqrt{\frac{2I_{REF}}{k_{n0}}} - \sqrt{\frac{2I_{REF}}{k_{n1}}} + V_{TH1} + V_{TH0} \\
\because V_{DD} - V_N &amp;amp;= 0.5V \\
\therefore I_{REF} &amp;amp;= \frac{1}{2}\mu_nC_{ox}\frac{(V_{DD} - V_{TH1} - V_{TH2} - 0.5)^2}{(\sqrt{(L/W)_0} + \sqrt{(L/W)_1})^2}
\end{aligned}
$$&lt;/p&gt;
&lt;h1 id=&#34;active-current-mirrors&#34;&gt;Active Current Mirrors&lt;/h1&gt;
&lt;h2 id=&#34;voltage-gain&#34;&gt;Voltage Gain&lt;/h2&gt;
&lt;h3 id=&#34;method-i&#34;&gt;Method I&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/6.png&#34;
	width=&#34;1188&#34;
	height=&#34;1328&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/6_hu408c3e264731e4bc960bac2528a6b261_125612_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/6_hu408c3e264731e4bc960bac2528a6b261_125612_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;89&#34;
		data-flex-basis=&#34;214px&#34;
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Caculate $G_m$ from (b)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
|A_v| &amp;amp;= G_m R_{out} \\
G_m &amp;amp;= \frac{I_{out}}{V_{in}} \\
&amp;amp;= \frac{\dfrac{1}{2} g_{m1} V_{in}}{V_{in}} \\
&amp;amp;= \frac{1}{2}g_{m1}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Caculate &lt;strong&gt;Gain&lt;/strong&gt; from (c)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
R_2 &amp;amp;= 2r_{o2} + \frac{1}{g_{m1}} \\
&amp;amp;\approx 2r_{o2} \\
\therefore R_{out} &amp;amp;\approx 2r_{o2} || r_{o4} \\
\therefore |A_v| &amp;amp;\approx \frac{g_{m1}}{2} (2r_{o2} || r_{o4})
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
|A_v| \approx \frac{g_{m1}}{2} (2r_{o2} || r_{o4})
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;if&lt;/strong&gt; $r_{04} \longrightarrow \infin$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
|A_v| = g_{m1} r_{02}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;method-ii&#34;&gt;Method II&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/7.png&#34;
	width=&#34;828&#34;
	height=&#34;636&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/7_hudfd7270dc3730719255e5f7aba10a93a_51273_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/7_hudfd7270dc3730719255e5f7aba10a93a_51273_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;130&#34;
		data-flex-basis=&#34;312px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= \frac{V_{out}}{V_{in}}  \\
&amp;amp;= \frac{V_{out}}{V_p} \times \frac{V_P}{V_{in}} \\
\frac{V_P}{V_{in}} &amp;amp;= \frac{R_{eq}}{R_{eq} + \dfrac{1}{g_{m1}}} \\
R_{eq} &amp;amp;= \frac{1}{g_{m2}} + \frac{r_{o4}}{g_{m2}r_{o2}} \\
&amp;amp;= \frac{1}{g_{m2}}(1+\frac{r_{o4}}{r_{o2}}) \\
\therefore \frac{V_P}{V_{in}} &amp;amp;= \frac{1 + \dfrac{r_{o4}}{r_{o2}}}{2 + \dfrac{r_{o4}}{r_{o2}}} \\
\frac{V_{out}}{V_p} &amp;amp;= \frac{r_{o2} + \dfrac{1}{g_{m2}}}{R_{eq}} \\
&amp;amp;= \frac{1 + g_{m2}r_{o2}}{1 + \dfrac{r_{o2}}{r_{o4}}} \\
&amp;amp;\approx \frac{g_{m2}r_{o2}}{1 + \dfrac{r_{o2}}{r_{o4}}} \\
\therefore |A_v| &amp;amp;= \frac{g_{m2}}{2} [(2r_{o2}) || r_{o4}]
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;large-signal-analysis&#34;&gt;Large Signal Analysis&lt;/h2&gt;
&lt;h3 id=&#34;实例解析&#34;&gt;实例解析&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/10.png&#34;
	width=&#34;2020&#34;
	height=&#34;906&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/10_hu64692456be2b30f739e93a60f04f1250_115168_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/10_hu64692456be2b30f739e93a60f04f1250_115168_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;222&#34;
		data-flex-basis=&#34;535px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$V_{DD}$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$M_1$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$M_2$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$M_3$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$M_4$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$M_5$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$[V_{GS4} + 1.5V - V_{TH2}, 3V$]&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;All &lt;strong&gt;Saturation&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$[X, V_{GS4} + 1.5V - V_{TH2}]$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Triode&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Triode&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Triode&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;Triode&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;Saturation&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$[0,X]$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;All &lt;strong&gt;Triode&lt;/strong&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;small-signal-analysis&#34;&gt;Small Signal Analysis&lt;/h2&gt;
&lt;h3 id=&#34;电路图-1&#34;&gt;电路图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/11.png&#34;
	width=&#34;1006&#34;
	height=&#34;890&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/11_hub2c5e9e4b4744e44ed8f257ed973cb9c_78039_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/11_hub2c5e9e4b4744e44ed8f257ed973cb9c_78039_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;113&#34;
		data-flex-basis=&#34;271px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;voltage-gain-1&#34;&gt;Voltage Gain&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;Method I&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;计算$G_m$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/12.png&#34;
	width=&#34;2162&#34;
	height=&#34;972&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/12_hu205c67943b85d159d040349639ebfbc1_151897_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/12_hu205c67943b85d159d040349639ebfbc1_151897_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;222&#34;
		data-flex-basis=&#34;533px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
I_{D1} &amp;amp;= |I_{D3}| = |I_{D4}| \\
&amp;amp;= \frac{ g_{m 1,2} V_{in}}{ 2 } \\
I_{D2} &amp;amp;= - \frac{ g_{m2} V_{in} }{ 2 } \\
\therefore I_{out} &amp;amp;= g_{m1,2} V_{in} \\
\therefore G_m &amp;amp;= g_{m1,2}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;计算$R_{out}$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/13.png&#34;
	width=&#34;1994&#34;
	height=&#34;888&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/13_huf2b6afc6c4e887b17c19bceaec5c2cc6_141897_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/13_huf2b6afc6c4e887b17c19bceaec5c2cc6_141897_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;224&#34;
		data-flex-basis=&#34;538px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
I_X &amp;amp;= 2 \frac{ V_X }{ 2r_{o1,2} + \dfrac{ 1 }{ g_{m3} } || r_{o3}} + \frac{ V_X }{ r_{04} }
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;if $2r_{o1,2} \gg \dfrac{ 1 }{ g_{m3}} || r_{03}$&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
R_{out} &amp;amp;= r_{o1,2} || r_{o4}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gain&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
|A_v| = g_{m1,2} (r_{o2} || r_{o4})
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;common-mode-property&#34;&gt;Common Mode Property&lt;/h2&gt;
&lt;h3 id=&#34;电路图-2&#34;&gt;电路图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/14.png&#34;
	width=&#34;990&#34;
	height=&#34;864&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/14_hu18827d6840128511436eb23015caf845_60317_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/14_hu18827d6840128511436eb23015caf845_60317_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;114&#34;
		data-flex-basis=&#34;275px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;gain&#34;&gt;Gain&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/15.png&#34;
	width=&#34;1736&#34;
	height=&#34;1094&#34;
	srcset=&#34;https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/15_hu95a2fb0905852be53a5db92157691871_154631_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/5.-passive-and-active-current-mirror/15_hu95a2fb0905852be53a5db92157691871_154631_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;158&#34;
		data-flex-basis=&#34;380px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;注意，$r_{o3,4} \gg \dfrac{ 1 }{ g_{m3,4} }$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
A_{CM} &amp;amp;\approx \frac{ - \dfrac{ 1 }{ 2g_{m3,4}} || \dfrac{ r_{o3,4} }{ 2 } }{\dfrac{ 1 }{ 2g_{m1,2}} + R_{SS}} \\
&amp;amp;= \frac{ -1  }{ 1 + 2g_{m1,2} R_{SS} } \cdot \frac{ g_{m1,2} }{ g_{m3,4} }
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;cmmr&#34;&gt;CMMR&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
CMMR &amp;amp;= | \frac{ A_{DM} }{ A_{CM}} | \\
&amp;amp;= g_{m3,4} (r_{o1} || r_{o2}) ( 1 + g_{m1,2})
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h1 id=&#34;附录&#34;&gt;附录&lt;/h1&gt;
&lt;h2 id=&#34;mosfet参数&#34;&gt;MOSFET参数&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;$\mu_n, V_{TH}$ 受&lt;strong&gt;温度&lt;/strong&gt;影响&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;headroom-voltage&#34;&gt;Headroom Voltage&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;余量电压是指在电路设计中，为了确保电器或电子设备正常工作，需要提供的超过最低电压要求的额外电压。它表示电路中电源电压与电器或电子设备所需电压之间的差值。&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>9. Operational Amplifier</title>
        <link>https://downeyflyfan.com/p/9.-operational-amplifier/</link>
        <pubDate>Sun, 14 May 2023 10:07:33 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/9.-operational-amplifier/</guid>
        <description>&lt;h1 id=&#34;introduction&#34;&gt;Introduction&lt;/h1&gt;
&lt;h2 id=&#34;properties-of-ideal-amplifier&#34;&gt;Properties of Ideal Amplifier&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$CMRR =  \infin$&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$Band \ Width = \infin$&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$R_{in} = \infin$&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$R_{out} = 0$&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\eta = 1$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;没有温飘&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;first-order-op-amp&#34;&gt;First-Order Op-Amp&lt;/h1&gt;
&lt;h2 id=&#34;fundamental-circuit-structure&#34;&gt;Fundamental Circuit Structure&lt;/h2&gt;
&lt;h3 id=&#34;电路结构图&#34;&gt;电路结构图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/1.png&#34;
	width=&#34;1258&#34;
	height=&#34;426&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/1_hu6fba19df725ac982054068ddfe8f0ede_49685_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/1_hu6fba19df725ac982054068ddfe8f0ede_49685_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;295&#34;
		data-flex-basis=&#34;708px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/2.png&#34;
	width=&#34;844&#34;
	height=&#34;728&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/2_hu23e76efd5954748078cbfe207d069098_73061_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/2_hu23e76efd5954748078cbfe207d069098_73061_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;115&#34;
		data-flex-basis=&#34;278px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;增益&#34;&gt;增益&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
A_v \approx g_{mN} (r_{oP} || r_{oN})
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;telescope-cascode-op-amp&#34;&gt;Telescope Cascode Op Amp&lt;/h2&gt;
&lt;h3 id=&#34;电路图&#34;&gt;电路图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/3.png&#34;
	width=&#34;2154&#34;
	height=&#34;1196&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/3_huc81bed7285e5d33ac1b171003aeff79a_262011_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/3_huc81bed7285e5d33ac1b171003aeff79a_262011_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;180&#34;
		data-flex-basis=&#34;432px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;增益-1&#34;&gt;增益&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
A_v \approx g_{mN} [ (g_{mN} r_{oN}^2)|| (g_{mP} r_{oP}^2)]
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;output-swing&#34;&gt;Output Swing&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/4.png&#34;
	width=&#34;984&#34;
	height=&#34;1206&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/4_hu65804033dcab703a712844a51d3c066c_113132_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/4_hu65804033dcab703a712844a51d3c066c_113132_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;81&#34;
		data-flex-basis=&#34;195px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;To saturate $M_2, M_4$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out} &amp;amp;\ge V_b- V_{TH4} \\
V_X &amp;amp;\ge V_{out} - V_{TH2}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_b - V_{TH4} \le V_{out} \le V_b - V_{GS4} + V_{TH2}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Poles $\uparrow$&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;folded-cascode-op-amp&#34;&gt;Folded Cascode Op Amp&lt;/h2&gt;
&lt;h3 id=&#34;电路结构&#34;&gt;电路结构&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/5.png&#34;
	width=&#34;2430&#34;
	height=&#34;1092&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/5_hu1460ceb1755c719888d60abca71fba98_251779_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/5_hu1460ceb1755c719888d60abca71fba98_251779_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;222&#34;
		data-flex-basis=&#34;534px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
I_{SS1} &amp;amp;= I_{SS} + \frac{ I_{D3} }{ 2 }
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;进阶版&#34;&gt;进阶版&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;电路图 增益&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/6.png&#34;
	width=&#34;1284&#34;
	height=&#34;1184&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/6_hu35c7dccc6c0f8c83143cd80816108b65_155828_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/6_hu35c7dccc6c0f8c83143cd80816108b65_155828_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;108&#34;
		data-flex-basis=&#34;260px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
A_v \approx g_{m1} \lbrace [(g_{m3} + g_{mb3})r_{o3} (r_{o1} || r_{o5})] || [(g_{m7} + g_{mb7}) r_{o7} r_{o9} ] \rbrace
\end{equation}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;特点&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;增益相比&lt;strong&gt;Telescope Cascode Op Amp 小了 2 - 3 倍&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;由于增加了$C_{GD5}$和$C_{DB5}$，极点更加靠近原点&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用&lt;strong&gt;NMOS&lt;/strong&gt;作为输入器件&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;折叠点&lt;strong&gt;X&lt;/strong&gt;对应的极点更低，由$\dfrac{ 1}{ g_{m3} + g_{mb3} } \downarrow$和 总电容($\uparrow$) 决定&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;second-order-op-amp&#34;&gt;Second-Order Op-Amp&lt;/h2&gt;
&lt;h3 id=&#34;基本电路结构&#34;&gt;基本电路结构&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/7.png&#34;
	width=&#34;1192&#34;
	height=&#34;340&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/7_hu54cecb21840a99dd84b364c3a7f128e8_66050_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/7_hu54cecb21840a99dd84b364c3a7f128e8_66050_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;350&#34;
		data-flex-basis=&#34;841px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;高增益&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;需要&lt;strong&gt;频率补偿&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;$A_v = A_{v1} \cdot A_{v2}$&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/8.png&#34;
	width=&#34;2552&#34;
	height=&#34;870&#34;
	srcset=&#34;https://downeyflyfan.com/p/9.-operational-amplifier/8_hu7e98bfa4c0b3ab7843628e4a28d8fc07_250388_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/9.-operational-amplifier/8_hu7e98bfa4c0b3ab7843628e4a28d8fc07_250388_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;293&#34;
		data-flex-basis=&#34;704px&#34;
	
&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>6. Frequency Response</title>
        <link>https://downeyflyfan.com/p/6.-frequency-response/</link>
        <pubDate>Wed, 10 May 2023 13:44:17 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/6.-frequency-response/</guid>
        <description>&lt;h1 id=&#34;general-considerations&#34;&gt;General Considerations&lt;/h1&gt;
&lt;h2 id=&#34;millers-law&#34;&gt;Miller&amp;rsquo;s Law&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/1.png&#34;
	width=&#34;2324&#34;
	height=&#34;716&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/1_hud8728b819905a001ac63431a0c22a482_114652_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/1_hud8728b819905a001ac63431a0c22a482_114652_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;324&#34;
		data-flex-basis=&#34;778px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
Z &amp;amp;= Z_1 + Z_2 \\
\frac{ V_X }{  Z_1 } &amp;amp;= \frac{ V_Y }{ Z_2  } = \frac{ V_X - V_Y }{  Z}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{align}
Z_1 &amp;amp;= \frac{ Z }{ 1 - A_v  } \\
Z_2 &amp;amp;= \frac{ Z }{ 1-  \dfrac{ 1 }{ A_v }}
\end{align}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;$A_v = \dfrac{ V_{out} }{ V_{in} }$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;注意&lt;/strong&gt;: $Z$和&lt;strong&gt;main signal path&lt;/strong&gt;之间的关系很重要&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;association-of-poles-with-nodes&#34;&gt;Association of Poles with Nodes&lt;/h2&gt;
&lt;h3 id=&#34;general-case&#34;&gt;General Case&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/2.png&#34;
	width=&#34;2324&#34;
	height=&#34;716&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/2_hud8728b819905a001ac63431a0c22a482_133930_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/2_hud8728b819905a001ac63431a0c22a482_133930_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;324&#34;
		data-flex-basis=&#34;778px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
H(s) &amp;amp;= \frac{V_{out}}{V_{in}}(s) \\
&amp;amp;= \frac{A_1}{1 + sR_SC_{in}} \frac{A_2}{1 + sR_1 C_N}\frac{1}{1 + sR_2C_P}
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;input-example&#34;&gt;Input Example&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/3.png&#34;
	width=&#34;1172&#34;
	height=&#34;686&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/3_hube17b7b07764fcfa6e3751c70bdb1c91_64511_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/3_hube17b7b07764fcfa6e3751c70bdb1c91_64511_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;170&#34;
		data-flex-basis=&#34;410px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
Input \ Impedence \ Z_{in} &amp;amp;= (1+A) C_F \\
f_p &amp;amp;= \frac{1}{(1+A)R_SC_F}
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;cg-stage-with-parasitic-capacitances&#34;&gt;CG Stage With Parasitic Capacitances&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/11.png&#34;
	width=&#34;674&#34;
	height=&#34;726&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/11_hub2039b5ba16f5d2b9d6662121e4ff1d7_58291_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/11_hub2039b5ba16f5d2b9d6662121e4ff1d7_58291_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;92&#34;
		data-flex-basis=&#34;222px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Neglecting &lt;strong&gt;CLM&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
\omega_{in} &amp;amp;= [C_S (R_S || \frac{1}{g_{m1} + g_{mb1}})]^{-1} \\
&amp;amp;= [(C_{GS1} + C_{SB1})(R_S || \frac{1}{g_{m1} + g_{mb1}})]^{-1} \\
\omega_{out} &amp;amp;= [C_D R_D]^{-1} \\
&amp;amp;= [(C_{DG} + C_{DB}) R_D]^{-1} \\
\therefore A_v &amp;amp;= \frac{(g_m + g_{mb})R_D}{1 + (g_m + g_{mb})R_S} \frac{1}{1 + s/\omega_{in}}\frac{1}{1 + s/\omega_{out}}
\end{aligned}
$$&lt;/p&gt;
&lt;h1 id=&#34;common-source-stage&#34;&gt;Common-Source Stage&lt;/h1&gt;
&lt;h2 id=&#34;high-frequency-model-of-cs-stage&#34;&gt;High-frequency Model of CS Stage&lt;/h2&gt;
&lt;h3 id=&#34;电路图&#34;&gt;电路图&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/4.png&#34;
	width=&#34;918&#34;
	height=&#34;640&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/4_hu983cfc745e84eac105e2da0426da4e2c_58765_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/4_hu983cfc745e84eac105e2da0426da4e2c_58765_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;143&#34;
		data-flex-basis=&#34;344px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;gain&#34;&gt;Gain&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;$C_{GD}$接在了&lt;strong&gt;输入&lt;/strong&gt;和&lt;strong&gt;输出&lt;/strong&gt;之间，因此根据&lt;strong&gt;Miller&amp;rsquo;s Law&lt;/strong&gt;分别计算&lt;strong&gt;输出&lt;/strong&gt;和&lt;strong&gt;输入&lt;/strong&gt;阻抗&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;X to Ground&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
Z_X &amp;amp;= C_{GS} + (1-A)C_{GD} \\
\omega_{in} &amp;amp;= \frac{1}{R_S [C_{GS} + (1 + g_mR_D)C_{GD}]}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;$V_{out}$ to Ground&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
Z_X &amp;amp;= C_{DB} + (1-A^{-1})C_{GD} \\
&amp;amp;\approx C_{DB} + C_{GD} \\
\therefore \omega_{out} &amp;amp;= \frac{1}{R_S(C_{GS} + C_{GD})}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;when $R_S$ is large&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/5.png&#34;
	width=&#34;750&#34;
	height=&#34;642&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/5_hud5b671f3cbd87ae1326d79e5852f9bd9_47710_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/5_hud5b671f3cbd87ae1326d79e5852f9bd9_47710_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;116&#34;
		data-flex-basis=&#34;280px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
Z_X &amp;amp;= \frac{1}{sC_{eq}} || (  \frac{C_{GD} + C_{GS}}{C_{GD}} \frac{1}{g_m})  (???) \\
\therefore \omega_{out} &amp;amp;= \frac{1}{\Big[ R_D  || \Big(\dfrac{C_{GD} + C_{GS}}{C_{GD}} \dfrac{1}{g_m}\Big) \Big] (C_{eq} + C_{DB})} \\
\therefore \frac{V_{out}}{V_{in}}(s) &amp;amp;= -\frac{g_mR_D}{(1 + \dfrac{s}{\omega_{in}}) (1 + \dfrac{s}{\omega_{out}})}
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;exact-transfer-function&#34;&gt;Exact Transfer Function&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;High-Frequency Small Signal Equivalent Circuit&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/6.png&#34;
	width=&#34;1400&#34;
	height=&#34;512&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/6_hu7ee376d381c59e7e136c4c1bb2f3f054_71203_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/6_hu7ee376d381c59e7e136c4c1bb2f3f054_71203_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;273&#34;
		data-flex-basis=&#34;656px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;KCL方程&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
0 &amp;amp;= (V_{out} - V_X) sC_{GD} + V_{out} ( \frac{ 1 }{ R_D } + sC_{DB}) + g_mV_X\\
V_{X} &amp;amp;= \frac{ 1 }{ 1 + s R_S C_{GS} } V_{in}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
\therefore \ H(s) &amp;amp;= \frac{V_{out}}{V_{in}} \\
&amp;amp;= \frac{(C_{GD}s - g_m)R_D}{R_SR_D\xi s^2 + [R_S(1+g_mR_D)C_{GD} + R_SC_{GS} + R_D(C_{GD} + C_{DB})]s + 1} \\
\xi &amp;amp;= C_{GS}C_{GD} + C_{GS}C_{DB} + C_{GD}C_{DB}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;two-pole-systems&#34;&gt;Two Pole Systems&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;$D$: &lt;strong&gt;demoninator&lt;/strong&gt;，分母&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
D &amp;amp;= (1 + \frac{s}{\omega_{p1}})(1 + \frac{s}{\omega_{p2}}) \\
&amp;amp;= \frac{s^2}{\omega_{p1}\omega_{p2}} + (\frac{1}{\omega_{p1}} + \frac{1}{\omega_{p2}})s + 1 \\
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;如果$\omega_{p2} \gg \omega_{p1}$，所以我们可以将s的系数近似看成$\dfrac{1}{\omega_{p1}}$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;进而根据$s^2$的系数求出$\omega_{p2}$&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;对于&lt;strong&gt;CS Stage&lt;/strong&gt;, 有以下结论&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
\omega_{p1} = \frac{1}{R_S(1+g_mR_D)C_{GD} + R_SC_{GS} + R_D(C_{GD} + C_{DB})}
\end{equation}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
\omega_{p2} &amp;amp;= \frac{1}{\omega_{p1}} \frac{1}{R_S R_D \xi} \\
&amp;amp;= \frac{R_S(1+g_mR_D)C_{GD} + R_SC_{GS} + R_D(C_{GD} + C_{DB})}{R_SR_D\xi}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若 $C_{GS} \gg (1+g_m R_D)C_{GD} + R_D(C_{GD} + C_{DB})/R_S$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
\omega_{p2} &amp;amp;\approx \frac{1}{R_D (C_{GD} + C_{DB})}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;与估算得到的结果相同&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;summary-of-approximation-of-resistance&#34;&gt;Summary of Approximation of Resistance&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;一级估计&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
Z_{in} &amp;amp;= \frac{ 1 }{ s[C_{GS} + (1 +g_m R_D) C_{GD}] }
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;高频估计(考虑输出结点的影响)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/6.png&#34;
	width=&#34;1400&#34;
	height=&#34;512&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/6_hu7ee376d381c59e7e136c4c1bb2f3f054_71203_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/6_hu7ee376d381c59e7e136c4c1bb2f3f054_71203_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;273&#34;
		data-flex-basis=&#34;656px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
Z_{in} &amp;amp;= \frac{ 1 }{ s C_{GS} } || \frac{ 1 + s R_D({C_{GD}  +C_{DB}})}{ sC_{GD} ( 1 + g_m R_D + s R_D C_{DB})}
\end{aligned}
$$&lt;/p&gt;
&lt;h1 id=&#34;source-followers&#34;&gt;Source Followers&lt;/h1&gt;
&lt;h2 id=&#34;ciurcuit--small-signal-model&#34;&gt;Ciurcuit &amp;amp; Small Signal Model&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/7.png&#34;
	width=&#34;1250&#34;
	height=&#34;510&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/7_huc115fb711a5d3ed0132595c475f43b98_71040_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/7_huc115fb711a5d3ed0132595c475f43b98_71040_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;245&#34;
		data-flex-basis=&#34;588px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;transfer-function-and-poles&#34;&gt;Transfer Function and Poles&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;KCL&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_1C_{GS}s + g_mV_1 &amp;amp;= V_{out}C_Ls \\
\therefore V_1 &amp;amp;= \frac{C_Ls}{g_m + C_{GS}s}V_{out}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;KVL&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_{in} &amp;amp;= R_S[V_1C_{GS}s + (V_1 + V_{out})C_{GD}s] + V_1 + V_{out}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Gain&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
\frac{V_{out}}{V_{in}}(s) = \frac{g_m + C_{GS}s}{R_S\xi s^2 + (g_mR_SC_{GD} + C_L + C_{GS})s + g_m}
\end{equation}
$$&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Poles &amp;amp; Zeros&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
\therefore \omega_{p1} &amp;amp;\approx \frac{g_m}{g_mR_SC_{GD} + C_L + C_{GS}} \\
&amp;amp;= \frac{1}{R_SC_{GD} + \dfrac{C_L + C_{GS}}{g_m}}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果 $R_S = 0$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
\omega_{p1} &amp;amp;= \frac{g_m}{C_L + C_{GS}}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Zeros&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
\omega_z = -\frac{ g_m }{ C_{GS}}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;impedence&#34;&gt;Impedence&lt;/h2&gt;
&lt;h3 id=&#34;input-impedence&#34;&gt;Input Impedence&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/8.png&#34;
	width=&#34;606&#34;
	height=&#34;410&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/8_hu010e2f6847d9d0f2ddf87a7dd35e58ab_29342_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/8_hu010e2f6847d9d0f2ddf87a7dd35e58ab_29342_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;147&#34;
		data-flex-basis=&#34;354px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$C_{GD}$ &lt;strong&gt;shunts&lt;/strong&gt; the input, neglected.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_X &amp;amp;= \frac{I_X}{C_{GS}s} + (I_X + \frac{g_m I_X}{C_{GS}s}) (\frac{1}{g_{mb}} || \frac{1}{C_Ls}) \\
Z_{in} &amp;amp;= \frac{1}{C_{GS}s} + (1 + \frac{g_m}{C_{GS}s})\frac{1}{g_{mb} + C_L s} \\
Low \ Frequency: \\
g_{mb} &amp;amp;\gg |C_Ls| \\
\therefore Z_{in} &amp;amp;\approx \frac{1}{C_{GS}s}(1 + \frac{g_m}{g_{mb}}) + \frac{1}{g_{mb}}
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;output-impedence&#34;&gt;Output Impedence&lt;/h3&gt;
&lt;h1 id=&#34;common-gate-stage&#34;&gt;Common-Gate Stage&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/9.png&#34;
	width=&#34;636&#34;
	height=&#34;636&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/9_hu7c655d5ff7e36edc51637b9deb28f0d3_46669_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/9_hu7c655d5ff7e36edc51637b9deb28f0d3_46669_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;100&#34;
		data-flex-basis=&#34;240px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
\frac{V_{out}}{V_{in}}(s) &amp;amp;= \frac{(g_m + g_{mb})R_D}{1 + (g_m + g_{mb})R_S} \frac{1}{\Big(1 + \dfrac{C_S}{g_m + g_{mb} + \dfrac{1}{R_S}}s \Big) (1 + R_DC_D s)} \\
\therefore Z_{in} &amp;amp;\approx \frac{Z_L}{(g_m + g_{mb})r_o} + \frac{1}{g_m + g_{mb}} \\
Z_L &amp;amp;= R_D || [1/(s C_D)]
\end{aligned}
$$&lt;/p&gt;
&lt;h1 id=&#34;cascode-stage&#34;&gt;Cascode Stage&lt;/h1&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/6.-frequency-response/10.png&#34;
	width=&#34;1004&#34;
	height=&#34;994&#34;
	srcset=&#34;https://downeyflyfan.com/p/6.-frequency-response/10_hud9f19130b36c8e9787455d1bc9ee1e1e_95879_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/6.-frequency-response/10_hud9f19130b36c8e9787455d1bc9ee1e1e_95879_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;101&#34;
		data-flex-basis=&#34;242px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
\omega_{p,A} &amp;amp;= \frac{1}{R_S \Big[C_{GS1} + \Big( 1 + \dfrac{g_{m1}}{g_{m2} + g_{mb2}})C_{GD1}]} (???)\\
\omega_{p,X} &amp;amp;= \frac{g_{m2} + g_{mb2}}{2C_{GD1} + C_{DB1} + C_{SB1} + C_{GS2}} \\
\omega_{p,Y} &amp;amp;= \frac{1}{R_D(C_{DB2} + C_L + C_{GD2})}
\end{aligned}
$$&lt;/p&gt;
&lt;h1 id=&#34;appendix&#34;&gt;Appendix&lt;/h1&gt;
&lt;h2 id=&#34;poles-and-zeros&#34;&gt;Poles and Zeros&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Poles&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;Zeros&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;使得增益无穷大(&lt;strong&gt;分母为0的点&lt;/strong&gt;)&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;使得增益为0的点(&lt;strong&gt;分子为0的点&lt;/strong&gt;)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
</description>
        </item>
        <item>
        <title>4. Differential Amplifiers</title>
        <link>https://downeyflyfan.com/p/4.-differential-amplifiers/</link>
        <pubDate>Wed, 03 May 2023 10:45:40 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/4.-differential-amplifiers/</guid>
        <description>&lt;h1 id=&#34;basic-differential-pair&#34;&gt;Basic Differential Pair&lt;/h1&gt;
&lt;h2 id=&#34;电路&#34;&gt;电路&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/3.png&#34;
	width=&#34;1220&#34;
	height=&#34;868&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/3_hubb1fdc5700161c5798cf54b8e9591543_97545_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/3_hubb1fdc5700161c5798cf54b8e9591543_97545_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;140&#34;
		data-flex-basis=&#34;337px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Bias Current Source&lt;/strong&gt; $I_{SS}$ : &lt;strong&gt;Reducing the Variation of CM level&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;qualitative-analysis&#34;&gt;Qualitative Analysis&lt;/h2&gt;
&lt;h3 id=&#34;v_out---v_in-图像&#34;&gt;$V_{out} - V_{in}$ 图像&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/2.png&#34;
	width=&#34;2682&#34;
	height=&#34;982&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/2_hu7f72b250f4635d856fd50af6c7daf8fb_199090_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/2_hu7f72b250f4635d856fd50af6c7daf8fb_199090_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;273&#34;
		data-flex-basis=&#34;655px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_{in1} - V_{in2} &amp;amp;\in (-\infin, + \infin)
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;共模输入的范围&#34;&gt;共模输入的范围&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/4.png&#34;
	width=&#34;3172&#34;
	height=&#34;1638&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/4_hud9b170aae1d2e2b51c5846fd0761bbf9_345473_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/4_hud9b170aae1d2e2b51c5846fd0761bbf9_345473_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;193&#34;
		data-flex-basis=&#34;464px&#34;
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;为了使$M_3$工作在饱和区&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_P &amp;amp;\ge V_{GS3} - V_{TH3} \\
V_{in,CM} - V_{GS1} &amp;amp;\ge V_{GS3} - V_{TH3} \\
\therefore V_{in,CM} &amp;amp;\ge V_{GS1} + V_{OV3}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;为了使$M_1,M_2$工作在饱和区&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_{D1} &amp;amp;\ge V_{G1} - V_{T1} \\
\therefore V_{in,CM} &amp;amp;\le V_{out1} + V_{TH1} = V_{DD}- \frac{I_{SS}}{2} R_D + V_{TH1}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;$V_{in,CM}$的范围&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{align}
V_{GS1} + (V_{GS3} - V_{TH3} ) &amp;amp;\le V_{in,CM} \le min \Big[ V_{DD}-\frac{I_{SS}}{2}R_D + V_{TH1, V_{DD}} \Big]
\end{align}
$$&lt;/p&gt;
&lt;h3 id=&#34;共模输出的范围&#34;&gt;共模输出的范围&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;最大值&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out} &amp;amp;\le V_{DD}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;最小值&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;在&lt;strong&gt;Satuartion Region&lt;/strong&gt;和&lt;strong&gt;Triode Region&lt;/strong&gt;的交界处&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_{DS} &amp;amp;= V_{OV} \\
V_D &amp;amp;= V_G - V_{TH} \\
\therefore V_{out} &amp;amp;= V_{in,CM} - V_{TH} \\\
\\
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;$V_{out}$的范围&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
V_{in,CM} - V_{TH} &amp;lt; V_{out} &amp;lt; V_{DD}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;a_v---v_incm-图像&#34;&gt;$|A_v| - V_{in,CM}$ 图像&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/5.png&#34;
	width=&#34;2624&#34;
	height=&#34;938&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/5_hu0e4a4cebf122b681b703cafd88814209_202941_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/5_hu0e4a4cebf122b681b703cafd88814209_202941_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;279&#34;
		data-flex-basis=&#34;671px&#34;
	
&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$V_{in,CM}$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$A_v$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$(0,V_1)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$M_1, M_2$ &lt;strong&gt;off&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$(V_1, V_2)$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;All in Satuartion&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$(V_2, \infin )$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;strong&gt;In Triode Region&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;quantitative-analysis&#34;&gt;Quantitative Analysis&lt;/h2&gt;
&lt;h3 id=&#34;differential-voltage-gain&#34;&gt;Differential Voltage Gain&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/3.png&#34;
	width=&#34;1220&#34;
	height=&#34;868&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/3_hubb1fdc5700161c5798cf54b8e9591543_97545_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/3_hubb1fdc5700161c5798cf54b8e9591543_97545_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;140&#34;
		data-flex-basis=&#34;337px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当$M_1$和$M_2$都工作在&lt;strong&gt;Satuartion Region&lt;/strong&gt;时，有以下分析:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;推算$\Delta I - \Delta V$&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_{in1} - V_{in2} &amp;amp;= V_{G1} - V_{G2} \\
V_{GS} - V_t&amp;amp;= \sqrt{\frac{2I}{k_n}} \\
(V_{in1} - V_{in2})^2 &amp;amp;=  \frac{2}{k_n} (I_{SS} - 2\sqrt{I_{D1} I_{D2}}) \\
\frac{1}{2}k_n(V_{in1} - V_{in2})^2 &amp;amp;= I_{SS} - 2\sqrt{I_{D1}I_{D2}} \\
\therefore (I_{D1} - I_{D2})^2 &amp;amp;= I_{SS}^2 - 4I_{D1}I_{D2} \\
&amp;amp;= I_{SS}^2 - (I_{SS} - \frac{1}{2}k_n(V_{in1} - V_{in2})^2)^2 \\
&amp;amp;= I_{SS}k_n(V_{in1} - V_{in2})^2 - \frac{1}{4}k_n^2(V_{in1} -V_{in2})^4 \\
\therefore I_{D1} - I_{D2} &amp;amp;= \frac{1}{2}k_n(V_{in1} - V_{in2})\sqrt{\frac{4I_{SS}}{k_n} - (V_{in1} - V_{in2})^2}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\Delta I_{D} = \frac{1}{2} k_n\Delta V_{in} \sqrt{\frac{4I_{SS}}{k_n} - \Delta V_{in}^2}
\end{equation}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;Differential Gain&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
G_m = \frac{\partial \Delta I_D}{\partial \Delta V_{in}} = \frac{1}{2} k_n \dfrac{\dfrac{4I_{SS}}{k_n} - 2\Delta V_{in}^2}{\sqrt{\dfrac{4I_{SS}}{k_n} - \Delta V_{in}^2}}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当$\Delta V_{in} = 0$时&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
G_m &amp;amp;= \sqrt{k_nI_{SS}}\\
|A_v| &amp;amp;= \sqrt{k_nI_{SS}} R_D \\
&amp;amp;= g_mR_D
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当$\Delta V_{in} = \sqrt{\frac{2I_{SS}}{k_n}}$时&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
G_m &amp;amp;= 0 \\
|A_v| &amp;amp;= 0 \\
V_{GS} &amp;amp;= \sqrt{\frac{I_{SS}}{k_n}} + V_T \\
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当$\Delta V_{in} = \sqrt{\frac{4I_{SS}}{k_n}}$时，$M_1, M_2$ &lt;strong&gt;NOT in Satuartion Region&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;voltage-gain&#34;&gt;Voltage Gain&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;下图中，$M_1$与$M_2$相同，$R_{D1} = R_{D2}$&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;左电路的等效电路 (CS Stage With &lt;strong&gt;Source Degeneration&lt;/strong&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/7.png&#34;
	width=&#34;1836&#34;
	height=&#34;1574&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/7_hu33cec60249c6415fa3ed3815bfff2a2c_248950_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/7_hu33cec60249c6415fa3ed3815bfff2a2c_248950_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;116&#34;
		data-flex-basis=&#34;279px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;右电路的等效电路 (CG Stage)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/10.png&#34;
	width=&#34;1936&#34;
	height=&#34;776&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/10_hu0df30a76fe1fd7fcefc9feb611a0b23b_124943_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/10_hu0df30a76fe1fd7fcefc9feb611a0b23b_124943_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;249&#34;
		data-flex-basis=&#34;598px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
R_S &amp;amp;= \frac{1}{g_{m2}}, R_T = \frac{1}{g_{m1}} \\
\frac{V_X}{V_{in1}} &amp;amp;= -\frac{R_{D1}}{\dfrac{1}{g_{m1}} + \dfrac{1}{g_{m2}}} \\
\frac{V_Y}{V_{in1}} &amp;amp;= \frac{R_{D2}}{\dfrac{1}{g_{m1}} + \dfrac{1}{g_{m2}}} \\
A_v &amp;amp;=\frac{V_X - V_Y}{V_{in1} - V_{in2}} \\
&amp;amp;= -g_m R_D
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/6.png&#34;
	width=&#34;1836&#34;
	height=&#34;766&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/6_hu6439aa2ed500bac08990ccca7b346f73_147016_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/6_hu6439aa2ed500bac08990ccca7b346f73_147016_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;239&#34;
		data-flex-basis=&#34;575px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;对于线性电路v_p不变虚接地&#34;&gt;对于线性电路，$V_P$不变(虚接地)&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/8.png&#34;
	width=&#34;2354&#34;
	height=&#34;770&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/8_hu69fbd30cc68e575e4119102ea01039ef_142863_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/8_hu69fbd30cc68e575e4119102ea01039ef_142863_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;305&#34;
		data-flex-basis=&#34;733px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;假设图(a)输入电压以图(b)所示方式变化&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_{in1} = V_0 + \Delta V_{in}, V_{in2} &amp;amp;= V_0 - \Delta V_{in} \\
V_1 = V_a + V_1, \Delta V_2 &amp;amp;= V_a - \Delta V_2 \\
\because I_1 + I_2 &amp;amp;= I_T  \\
\therefore g_m(\Delta V_1 + \Delta V_2) &amp;amp;= 0 \\
\therefore \Delta V_1 &amp;amp;= - \Delta  V_2 \\\
\\ V_{in1} - V_1 &amp;amp;= V_{in2} - V_2 = V_P \\
V_{in1} + \Delta V_{in} - (V_a + \Delta V_1) &amp;amp;= V_{in2} - \Delta V_{in} - (V_a - \Delta V_2) \\
\therefore \Delta V_{in} &amp;amp;= \Delta V_1 \\
\therefore V_P&amp;amp;不变
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$P$ is a &lt;strong&gt;Virtual Ground&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;common-mode-response-small-signal-model&#34;&gt;Common-Mode Response (Small-Signal Model)&lt;/h1&gt;
&lt;h2 id=&#34;电路图&#34;&gt;电路图&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/9.png&#34;
	width=&#34;1554&#34;
	height=&#34;1844&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/9_hua21bcd5a244a9f970ce4b6e10192af89_235377_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/9_hua21bcd5a244a9f970ce4b6e10192af89_235377_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;84&#34;
		data-flex-basis=&#34;202px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;common-mode-gain&#34;&gt;Common-Mode Gain&lt;/h2&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= \frac{\dfrac{R_D}{2}}{\dfrac{1}{2g_m} + R_{SS}} \\
G_m &amp;amp;= \frac{g_m}{1 + 2g_m R_{SS}}
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;considering-the-manufactured-difference&#34;&gt;Considering the Manufactured Difference&lt;/h2&gt;
&lt;h3 id=&#34;m_1-和-m_2-若不同&#34;&gt;$M_1$ 和 $M_2$ 若不同&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;阻抗为$R_{SS}$&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
V_P &amp;amp;= (g_{m1} + g_{m2})(V_{in,CM} - V_P)R_{ss} \\
\therefore V_P &amp;amp;= \frac{g_{m1} + g_{m2}}{1 + (g_{m1} + g_{m2})R_{SS}} R_{SS} \\
V_X &amp;amp;= g_{m1}R_D(V_{in,CM} - V_P) \\
&amp;amp;=  \frac{-g_{m1}}{1 + (g_{m1} + g_{m2})R_{SS}}R_D V_{in,CM} \\
V_Y &amp;amp;=  \frac{-g_{m2}}{1 + (g_{m1} + g_{m2})R_{SS}}R_D V_{in,CM} \\&lt;/p&gt;
&lt;p&gt;\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
A_{CM-DM} = \frac{V_X - V_Y}{V_{in,CM}}
= \frac{\Delta g_m R_D}{1 + (g_{m1} +g_{m2}) R_{SS}}
\end{equation}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;将$R_{SS}$ 替换为$C_S$&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
A_{CM-DM} = \frac{\Delta g_m R_D}{\sqrt{1 + (g_{m1} + g_{m2})^2 \Big|\dfrac{1}{\omega C_S}\Big|^2} }
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;若r_d不相同&#34;&gt;若$R_D$不相同&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$R_D$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$R_D + \Delta R_D$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;/table&gt;
&lt;p&gt;$$
\begin{equation}
A_{CM-DM} = \frac{g_m \Delta R_D}{1 + (g_{m1} +g_{m2}) R_{SS}}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;differential-gain--cmrr&#34;&gt;Differential Gain &amp;amp; CMRR&lt;/h2&gt;
&lt;h3 id=&#34;differential-gain&#34;&gt;Differential Gain&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;在电流源被$R_{SS}$替换后(&lt;strong&gt;假设&lt;/strong&gt;$V_{in1} = - V_{in2}$)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
|A_{DM}| = \frac{ R_D }{ 2 } \frac{ g_{m1} + g_{m2} + 4g_{m1} g_{m2} R_{SS}  }{ 1 + (g_{m1} + g_{m2} )R_{SS}}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;cmrr&#34;&gt;CMRR&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
CMRR &amp;amp;= \frac{A_{DM}}{A_{CM-DM}} \\
&amp;amp;= \frac{ g_{m1} + g_{m2} + 4 g_{m1} g_{m2} R_{SS} }{ 2 \Delta g_m } \\
&amp;amp; \approx \frac{ g_m }{ \Delta g_m } ( 1 + 2g_m R_{SS})
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$g_m$&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;$\dfrac{ g_{m1} + g_{m2} }{ 2 }$&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\approx$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;假设$g_{m1} \approx g_{m2}$&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;differential-pair-with-mos-loads&#34;&gt;Differential Pair With MOS Loads&lt;/h1&gt;
&lt;h2 id=&#34;differential-pair-with-diode-connected-and-common-source-loads&#34;&gt;Differential Pair With Diode-Connected and Common-Source Loads&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/11.png&#34;
	width=&#34;1824&#34;
	height=&#34;978&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/11_hub5ede1f213710bcf093477f6a2618528_170357_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/11_hub5ede1f213710bcf093477f6a2618528_170357_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;186&#34;
		data-flex-basis=&#34;447px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;diode-connected-loads&#34;&gt;Diode-Connected Loads&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
A_v &amp;amp;= -g_{mN} (\frac{1}{g_{mP}} || r_{oP} || r_{oN}) \\
&amp;amp; \approx -\frac{g_{mN}}{g_{mP}} \\
&amp;amp;= \sqrt{\frac{ k_{nN} }{  k_{nP}}}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tradeoff among output voltage swing, voltage gain and CM input range&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;current-source-loads&#34;&gt;Current-Source Loads&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
A_v = -g_{mN} (r_{oP} || r_{oN})
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Diode-connected Loads需要考虑电阻是因为二极管的非线性特性，而Current Source Loads不需要考虑电阻是因为电流源的线性特性。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;addition-of-current-sources-to-increase-the-voltage-gain&#34;&gt;Addition of current sources to increase the voltage gain&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/15.png&#34;
	width=&#34;1630&#34;
	height=&#34;1136&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/15_hu81ebfc1ef041ced5bf780bd7b7e36eb9_151398_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/15_hu81ebfc1ef041ced5bf780bd7b7e36eb9_151398_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;143&#34;
		data-flex-basis=&#34;344px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
|A_v| \approx g_{m1} [(g_{m3}r_{o3}r_{o1}) || (g_{m5}r_{o5}r_{o7})]
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;电压增益可以近似地表示为&lt;strong&gt;晶体管的跨导和输出阻抗的乘积&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;gilbert-cell&#34;&gt;Gilbert Cell&lt;/h1&gt;
&lt;h2 id=&#34;原理&#34;&gt;原理&lt;/h2&gt;
&lt;p&gt;$$
\begin{aligned}
|A_v| &amp;amp;= g_m R_D \\
&amp;amp;= \sqrt{ 2 k_n I_D } R_D
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;$V_{cont} \longrightarrow I_{SS} \longrightarrow I_D \longrightarrow |A_v|$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过&lt;strong&gt;电压&lt;/strong&gt;控制&lt;strong&gt;增益&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;gilbert-cell-1&#34;&gt;Gilbert Cell&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/14.png&#34;
	width=&#34;1358&#34;
	height=&#34;1376&#34;
	srcset=&#34;https://downeyflyfan.com/p/4.-differential-amplifiers/14_hu8a5f142b7a6688e6068e8f007b74afee_222137_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/4.-differential-amplifiers/14_hu8a5f142b7a6688e6068e8f007b74afee_222137_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;98&#34;
		data-flex-basis=&#34;236px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
V_{out} &amp;amp;= A_1 V_1 + A_2 V_2 \\
&amp;amp;= R_D(I_{D1} + I_{D4}) - R_D(I_{D2} + I_{D3})
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h1 id=&#34;附录&#34;&gt;附录&lt;/h1&gt;
&lt;h2 id=&#34;静态电流损耗&#34;&gt;静态电流损耗&lt;/h2&gt;
&lt;p&gt;静态电流损耗可能会影响电路的性能，并导致功率损耗和热量产生。为了减少静态电流损耗，可以采取以下措施：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;选择$\dfrac{1}{g_m}$和$r_o$较小的 MOSFET。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将$V_G$保持在最小值，以减少电路总电阻。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过使用负反馈电路来控制 MOSFET 的电流，从而减少静态电流损耗。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;voltage-headroom&#34;&gt;Voltage Headroom&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;电路内部被消耗的，不能转换为&lt;strong&gt;Output Voltage Swing&lt;/strong&gt;的部分&lt;/p&gt;
&lt;/blockquote&gt;
</description>
        </item>
        <item>
        <title>3. Single Stage Amplifier</title>
        <link>https://downeyflyfan.com/p/3.-single-stage-amplifier/</link>
        <pubDate>Sat, 29 Apr 2023 09:32:13 +0800</pubDate>
        
        <guid>https://downeyflyfan.com/p/3.-single-stage-amplifier/</guid>
        <description>&lt;h1 id=&#34;cs-stage&#34;&gt;CS Stage&lt;/h1&gt;
&lt;h2 id=&#34;cs-stage-with-resistive-load&#34;&gt;CS Stage With Resistive Load&lt;/h2&gt;
&lt;h3 id=&#34;电路图和小信号模型&#34;&gt;电路图和小信号模型&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/2.png&#34;
	width=&#34;964&#34;
	height=&#34;777&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/2_hudcb8a034dae6b1b96aa691964e122ab8_27658_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/2_hudcb8a034dae6b1b96aa691964e122ab8_27658_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;124&#34;
		data-flex-basis=&#34;297px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;$\pmb{V_{in} = V_{GS}}$&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;输入-输出关系-增益&#34;&gt;输入-输出关系 增益&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;$V_{out} - V_{in}$&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
V_{in} = V_{GS}, V_{out} = V_{DS} \\\
\\ V_{out} =
\begin{cases}
V_{DD} (没有压降) &amp;amp; V_{in} \lt V_t \\
V_{DD} -\frac{1}{2}k_n (V_{in} - V_t)^2 R_D &amp;amp; V_{in} \ge V_t \\
V_{in} - V_t &amp;amp; V_{in} - V_t = V_{out} \\
V_{DD} - \frac{1}{2}[2(V_{in} - V_t)V_{out}- V_{out}^2] R_D &amp;amp; Triode \ Region
\end{cases} \\\
\\ 如果V_{in}很大,使得V_{out} \ll 2(V_{in} -V_t) \\\
\\ \begin{aligned}
V_{out} &amp;amp;= \frac{R_{on}}{R_{on} + R_D}V_{DD} \\
&amp;amp;= \frac{V_{DD}}{1 + k_n R_D(V_{in} -V_t)}  \\
( R_{on} &amp;amp;= \frac{V_{out}}{i_D},i_D = k_nR_D(V_{in}-V_t)V_{out} )  \\\
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;增益&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
A_v &amp;amp;= \frac{ \partial V_{out} }{ \partial V_{in}} \\
&amp;amp;= -g_m R_D
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;important-relations&#34;&gt;Important Relations&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/18.png&#34;
	width=&#34;2062&#34;
	height=&#34;854&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/18_hu4bcb4fb6285ea29ea119ea283a8f5379_120303_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/18_hu4bcb4fb6285ea29ea119ea283a8f5379_120303_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;241&#34;
		data-flex-basis=&#34;579px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;gain-considering-channel-length-modulation&#34;&gt;Gain Considering Channel Length Modulation&lt;/h3&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out} &amp;amp;= V_{DD} - \frac{1}{2}k_n(V_{in} - V_t)^2 (1 + \lambda V_{out})R_D \\
\therefore A_v &amp;amp;= \frac{\partial V_{out}}{\partial V_{in}}\\
&amp;amp;= - R_Dk_n (V_{in} - V_t)(1 + \lambda V_{out})- \frac{1}{2}k_n R_D(V_{in} - V_t)^2 \lambda\frac{\partial V_{out}}{\partial V_{in}} \\
&amp;amp;= -R_D g_m - I_DR_D \lambda A_v  (近似) \\
&amp;amp;= -\frac{g_m R_D}{1 + R_D \lambda I_D} \\
&amp;amp;= -g_m \frac{r_0R_D}{r_0 + R_D}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
A_v = -g_m\frac{ r_o R_D}{ r_0 + R_D }
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;其中，$\lambda I_D = \dfrac{ 1 }{ r_0 }$&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;效果就是&lt;strong&gt;并联&lt;/strong&gt;$r_0$和$R_D$作为&lt;strong&gt;输出电阻&lt;/strong&gt;，$1/g_m$是&lt;strong&gt;输入电阻&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;cs-stage-with-diode-connected-load&#34;&gt;CS Stage With Diode-Connected Load&lt;/h2&gt;
&lt;h3 id=&#34;输入阻抗&#34;&gt;输入阻抗&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/4.png&#34;
	width=&#34;728&#34;
	height=&#34;380&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/4_hua52906e99453c04e9c43624692dd2e23_14616_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/4_hua52906e99453c04e9c43624692dd2e23_14616_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;191&#34;
		data-flex-basis=&#34;459px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_1 &amp;amp;= V_{bs} = -V_X \\\
\\ I_X &amp;amp;=\frac{V_X}{r_0} + (g_m + g_{mb})V_X \\
\frac{V_X}{I_X} &amp;amp;=  \frac{1}{g_m+g_{mb}+r_0^{-1}} \\
&amp;amp;= \frac{1}{g_m + g_{mb}} || r_0 \\
&amp;amp; \approx \frac{1}{g_m +g_{mb}} \\
Z_{in} &amp;amp;\approx \frac{1}{g_m + g_{mb}}
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;增益&#34;&gt;增益&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/5.png&#34;
	width=&#34;526&#34;
	height=&#34;668&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/5_huf0b9f0e80a8a8c93e710b52afeb0f4fa_36760_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/5_huf0b9f0e80a8a8c93e710b52afeb0f4fa_36760_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;78&#34;
		data-flex-basis=&#34;188px&#34;
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Method I&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= -g_{m1} \frac{1}{g_{m2} + g_{mb2}} \\
&amp;amp;= -\frac{g_{m1}}{g_{m2}}\frac{1}{1 + \eta}  \\
\because I_{D1} &amp;amp;= I_{D2} \\
\therefore A_v &amp;amp;= \frac{\sqrt{2k_nI_{D1}}}{\sqrt{2k_nI_{D2}}}\frac{1}{1+\eta}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
A_v &amp;amp;= -\sqrt{\frac{(W/L)_1}{(W/L)_2}}\frac{1}{1+\eta} \\
&amp;amp;\approx  - \sqrt{ \frac{ (W/L)_1 }{ (W/L)_2 } }
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;其中，$\pmb{\eta=\dfrac{g_{mb2}}{g_{m2}} = \dfrac{\partial V_{TH}}{\partial V_{out}}}$&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Method II&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
I_{D1} &amp;amp;= I_{D2} \\
\frac{1}{2}k_{n1}(V_{in} - V_{t1})^2  &amp;amp;= \frac{1}{2}k_{n2}(V_{DD} - V_{out} -V_{t2})^2 \\
\sqrt{(\frac{W}{L})&lt;em&gt;1} (V&lt;/em&gt;{in} -V_{t1}) &amp;amp;= \sqrt{(\frac{W}{L})&lt;em&gt;2}(V&lt;/em&gt;{DD} - V_{out} - V_{t2}) \\
\sqrt{(\frac{W}{L})&lt;em&gt;1} &amp;amp;= -\sqrt{(\frac{W}{L})&lt;em&gt;2}(\frac{\partial V&lt;/em&gt;{out}}{\partial V&lt;/em&gt;{in}} - \frac{\partial V_{t2}}{\partial V_{in}}) \\
\because \frac{\partial V_{t2}}{\partial V_{in}} &amp;amp;= \frac{\partial V_{t2}}{\partial V_{out}} \frac{\partial V_{out}}{\partial V_{in}} = \eta\frac{\partial V_{out}}{\partial V_{in}} \\
\therefore A_v &amp;amp;= \frac{\partial V_{out}}{V_{in}} \\
&amp;amp;= -\sqrt{\frac{(W/L)_1}{(W/L)_2}}\frac{1}{1+\eta} \\
&amp;amp;\approx -\sqrt{\frac{(W/L)_1}{(W/L)_2}}
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;总结&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;不考虑&lt;strong&gt;Channel-Length-Modulation&lt;/strong&gt;和&lt;strong&gt;Body Effect&lt;/strong&gt;的情况下，$A_v = 1$&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;cs-stage-with-diode-connected-pmos-device&#34;&gt;CS stage with diode-connected PMOS device&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/19.png&#34;
	width=&#34;526&#34;
	height=&#34;668&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/19_huf0b9f0e80a8a8c93e710b52afeb0f4fa_37195_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/19_huf0b9f0e80a8a8c93e710b52afeb0f4fa_37195_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;78&#34;
		data-flex-basis=&#34;188px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
\because I_{D1} &amp;amp; = I_{D2} \\
\therefore k_nV_{ovn}^2 &amp;amp;= k_pV_{ovp}^2 \\
\therefore \frac{\mu_n (W/L)&lt;em&gt;n}{\mu_p(W/L)&lt;em&gt;p}  &amp;amp;= \frac{|V&lt;/em&gt;{ovp}|}{V&lt;/em&gt;{ovn}} \\
\therefore A_v &amp;amp;\approx -\frac{|V_{GS2} - V_{TH2}|}{V_{GS1} - V_{TH1}} \\
&amp;amp;\approx -\frac{k_n|V_{GS2} - V_{TH2}|}{V_{GS1} - V_{TH1}} \\
&amp;amp;\approx \frac{g_{mn}}{g_{mp}}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在考虑现实因素的情况下&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
A_v = -g_{mn} (\frac{1}{g_{mp}} || r_{on} || r_{op})
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;cs-stage-with-current-source-load&#34;&gt;CS Stage With Current-Source Load&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/6.png&#34;
	width=&#34;176&#34;
	height=&#34;224&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/6_huaa4483bd5cc4f9901046e7fa7fb291f2_3583_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/6_huaa4483bd5cc4f9901046e7fa7fb291f2_3583_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;78&#34;
		data-flex-basis=&#34;188px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;gain&#34;&gt;Gain&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
A_v = -g_m(r_{o1} || r_{o2})
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;intrinsic-gain&#34;&gt;Intrinsic Gain&lt;/h3&gt;
&lt;p&gt;$$
\begin{equation}
g_mr_o = \sqrt{2(\frac{W}{L})\mu_nC_{OX}I_D} \frac{1}{\lambda I_D}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;cs-stage-with-triode-load&#34;&gt;CS Stage With Triode Load&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/7.png&#34;
	width=&#34;608&#34;
	height=&#34;346&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/7_hub4c3469d8242314acd07d3b4da6a6fff_6734_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/7_hub4c3469d8242314acd07d3b4da6a6fff_6734_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;175&#34;
		data-flex-basis=&#34;421px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
R_{on2} &amp;amp;= \frac{1}{g_{m2}} \\
&amp;amp;= \frac{1}{\mu_p C_{OX}(W/L)&lt;em&gt;2(V&lt;/em&gt;{DD} -V_b-V_{Tp})}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;cs-stage-with-source-degeneration&#34;&gt;CS Stage With Source Degeneration&lt;/h2&gt;
&lt;h3 id=&#34;电路&#34;&gt;电路&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/8.png&#34;
	width=&#34;658&#34;
	height=&#34;325&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/8_hud65e262e53f30e7c2f36dccc51d65baa_7643_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/8_hud65e262e53f30e7c2f36dccc51d65baa_7643_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;202&#34;
		data-flex-basis=&#34;485px&#34;
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;简化分析-gain&#34;&gt;简化分析 Gain&lt;/h3&gt;
&lt;p&gt;$$
设I_D = f(V_{GS})  \\\
\\ \begin{aligned}
G_m &amp;amp;= \frac{\partial I_D}{\partial V_{in}} \\
&amp;amp;= \frac{\partial f}{\partial V_{GS}}\frac{\partial V_{GS}}{\partial V_{in}} \\
&amp;amp;= g_m(\frac{ \partial (V_{in} - I_DR_S)}{\partial V_{in}}) \\
&amp;amp;= g_m (1-R_S\frac{\partial I_D}{\partial V_{in}}) \\
&amp;amp;= g_m(1 -R_SG_m)
\\ \therefore G_m &amp;amp;= \frac{g_m}{1+g_mR_S} \\
&amp;amp;= \frac{1}{\dfrac{1}{g_m} + R_S}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
A_v &amp;amp;= -G_m R_D  \\
&amp;amp;= -\frac{g_mR_D}{1 + g_mR_S}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;具体分析-gain&#34;&gt;具体分析 Gain&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;考虑了&lt;strong&gt;Channel Length Modulation&lt;/strong&gt;和&lt;strong&gt;Body Effect&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;小信号模型&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/9.png&#34;
	width=&#34;613&#34;
	height=&#34;286&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/9_hu74eddae3a937e5bd06f53099a85297ea_5998_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/9_hu74eddae3a937e5bd06f53099a85297ea_5998_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;214&#34;
		data-flex-basis=&#34;514px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;等效跨导&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;$$
\begin{aligned}
I_{out} &amp;amp;= g_mV_1 - \frac{I_{out} R_S}{r_O} -g_mV_X \\
&amp;amp;= g_m (V_{in} - I_{out} R_S) - \frac{I_{out}R_S}{r_O} + g_m (-I_{out}R_S) \\
G_m &amp;amp;= \frac{I_{out}}{V_{in}} \\
&amp;amp;= \frac{g_mr_o}{R_S + [1 + (g_m + g_{mb})R_S]r_O}
\end{aligned} \\\
$$&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;增大的&lt;strong&gt;输出电阻&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/23.png&#34;
	width=&#34;1542&#34;
	height=&#34;770&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/23_hua7acad1e15f16241acf976a8f004671d_85717_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/23_hua7acad1e15f16241acf976a8f004671d_85717_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;200&#34;
		data-flex-basis=&#34;480px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
I_{ro} &amp;amp;= I_X - g_m(V_1 + V_{bs}) \\
V_1 &amp;amp;= - I_XR_S \\
\therefore V_X &amp;amp;= I_{ro} r_o + I_X R_S \\
\therefore R_{out} &amp;amp;= \frac{V_X}{I_X} \\
&amp;amp;= R_S + [1 + (g_m + g_{mb}) R_S]r_o
\end{aligned}
$$&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;最终增益&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/24.png&#34;
	width=&#34;1442&#34;
	height=&#34;516&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/24_hudb799f5c73098304764fe5112427af00_62841_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/24_hudb799f5c73098304764fe5112427af00_62841_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;279&#34;
		data-flex-basis=&#34;670px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= \frac{V_{out}}{V_{in}}  \\
&amp;amp;= -\frac{g_m r_o R_D}{R_D + R_S + r_o + (g_m + g_{mb}) R_S r_o}
\end{aligned}
$$&lt;/p&gt;
&lt;h3 id=&#34;图像&#34;&gt;图像&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/10.png&#34;
	width=&#34;901&#34;
	height=&#34;295&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/10_hu4a90f2d70e2bdb063cba45596d2e996b_13388_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/10_hu4a90f2d70e2bdb063cba45596d2e996b_13388_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;305&#34;
		data-flex-basis=&#34;733px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/20.png&#34;
	width=&#34;790&#34;
	height=&#34;562&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/20_hu75dba8cbe1b9f420a4a22883b60d9682_49369_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/20_hu75dba8cbe1b9f420a4a22883b60d9682_49369_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;140&#34;
		data-flex-basis=&#34;337px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;cs-stage-with-source-degeneration--constant-current-source&#34;&gt;CS Stage With Source Degeneration &amp;amp; Constant Current Source&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/25.png&#34;
	width=&#34;494&#34;
	height=&#34;618&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/25_hu49699bf4809f6df26d9c6deaa4bcc595_35048_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/25_hu49699bf4809f6df26d9c6deaa4bcc595_35048_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;79&#34;
		data-flex-basis=&#34;191px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= -g_m r_o
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这种情况下，通过$R_S$的$AC$电流为&lt;strong&gt;0&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;source-follower&#34;&gt;Source Follower&lt;/h1&gt;
&lt;h2 id=&#34;电路-电压特性&#34;&gt;电路 电压特性&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/11.png&#34;
	width=&#34;809&#34;
	height=&#34;382&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/11_hub5f2c310bf50ba806646476e40a2263d_6911_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/11_hub5f2c310bf50ba806646476e40a2263d_6911_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;211&#34;
		data-flex-basis=&#34;508px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;gain-1&#34;&gt;Gain&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;只考虑&lt;strong&gt;Body Effect&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out} &amp;amp;= \frac{1}{2}k_n(V_{in} -V_{out} -V_t) ^2 R_S \\
\frac{\partial V_{out}}{\partial V_{in}} &amp;amp;= k_n(V_{in}- V_{out} -V_t) (1 - \frac{\partial V_{out}}{\partial V_{in}} - \frac{\partial V_t}{\partial V_{in}}) R_S \\
\because \frac{\partial V_t}{\partial V_{in}} &amp;amp;= \eta \frac{\partial V_{out}}{\partial V_{in}} \\
\therefore \frac{\partial V_{out}}{\partial V_{in}} &amp;amp;= \frac{k_nV_{OV}R_S}{1+k_nV_{OV}R_S(1  +\eta)} \\
\because g_m &amp;amp;= k_nV_{OV}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
A_v = \frac{g_m R_S}{1 + (g_m + g_{mb}) R_S}
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若不考虑&lt;strong&gt;Body Effect&lt;/strong&gt;，$A_v = \dfrac{1}{\dfrac{1}{g_m} + R_S} R_S$, 和&lt;strong&gt;CS Degeneration&lt;/strong&gt;十分相似&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;输出电阻&#34;&gt;输出电阻&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;只考虑&lt;strong&gt;Body Effect&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/26.png&#34;
	width=&#34;896&#34;
	height=&#34;646&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/26_huef38ce08322f679f9da16498b32dab44_46755_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/26_huef38ce08322f679f9da16498b32dab44_46755_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;138&#34;
		data-flex-basis=&#34;332px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_X &amp;amp;= - V_1  = -V_{bs}\\
I_X &amp;amp;= g_mV_1  + g_{mb} V_{bs} \\
\therefore R_{out} &amp;amp;= \frac{V_X}{I_X} \\
&amp;amp;= \frac{1}{g_m + g_{mb}} \\
&amp;amp;= \frac{1}{g_m} || \frac{1}{g_{mb}}
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;source-follower-driving-resistive-load&#34;&gt;Source Follower Driving Resistive Load&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/27.png&#34;
	width=&#34;1878&#34;
	height=&#34;798&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/27_hub2302ed494ff6f6046f6e8af1f29e9e9_147972_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/27_hub2302ed494ff6f6046f6e8af1f29e9e9_147972_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;235&#34;
		data-flex-basis=&#34;564px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;考虑了&lt;strong&gt;CLM&lt;/strong&gt;和&lt;strong&gt;Body Effect&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
A_v &amp;amp;= \frac{\dfrac{1}{g_{mb}} || r_{o1} || r_{o2} || R_L }{\dfrac{1}{g_{mb}} || r_{o1} || r_{o2} || R_L + \dfrac{1}{g_m}}
\end{aligned}
$$&lt;/p&gt;
&lt;h1 id=&#34;common-gate-stage&#34;&gt;Common-Gate Stage&lt;/h1&gt;
&lt;h2 id=&#34;电路-1&#34;&gt;电路&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/14.png&#34;
	width=&#34;644&#34;
	height=&#34;372&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/14_hu2381b9be18ed234a5d1d40231c42aece_8572_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/14_hu2381b9be18ed234a5d1d40231c42aece_8572_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;173&#34;
		data-flex-basis=&#34;415px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;(a)&lt;/strong&gt; 直接耦合&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;(b)&lt;/strong&gt; 电容耦合&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;gain-2&#34;&gt;Gain&lt;/h2&gt;
&lt;h3 id=&#34;简化后的-gain&#34;&gt;简化后的 Gain&lt;/h3&gt;
&lt;p&gt;$$
\begin{aligned}
V_{out} &amp;amp;= V_{DD} - \frac{1}{2}k_n(V_b -V_{in} -V_t)^2R_D \\
\therefore A_v &amp;amp;= \frac{\partial V_{out}}{\partial V_{in}} \\
&amp;amp;= -k_nV_{OV}(-1-\eta) R_D \\
&amp;amp;= g_m R_D ( 1 + \eta)
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
A_v = g_m R_D
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;普适性的gain&#34;&gt;普适性的Gain&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/29.png&#34;
	width=&#34;1986&#34;
	height=&#34;972&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/29_hucb2a68a642bbbc8b9b90c7aa0f09e7ee_134451_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/29_hucb2a68a642bbbc8b9b90c7aa0f09e7ee_134451_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;204&#34;
		data-flex-basis=&#34;490px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_1  - \frac{V_{out}}{R_D} R_S + V_{in} &amp;amp;=0  \\
V_{out} &amp;amp;=V_{in} -\frac{V_{out}}{R_D} R_S  + (V_1(g_m + g_{mb}) - \frac{V_{out}}{R_D})r_o
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
A_v =\frac{V_{out}}{V_{in}} = \frac{1 + (g_m + g_{mb})r_o }{r_o + (g_m + g_{mb})r_oR_S + R_S +R_D}R_D
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若 $R_D \rightarrow \infin$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
A_v = 1 + (g_m + g_{mb}) r_o
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;impedence&#34;&gt;Impedence&lt;/h2&gt;
&lt;h3 id=&#34;input-impedence&#34;&gt;Input Impedence&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/28.png&#34;
	width=&#34;1878&#34;
	height=&#34;730&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/28_hue838fe298714de12ec35e2baa8fb6780_102604_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/28_hue838fe298714de12ec35e2baa8fb6780_102604_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;257&#34;
		data-flex-basis=&#34;617px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
V_1 &amp;amp;= -V_X \\
V_X + (g_mV_1 + g_{mb}V_{bs} - I_X)r_o &amp;amp;=  I_XR_D \\
\therefore R_{in} &amp;amp;= \frac{V_X}{I_X} \\
&amp;amp;= \frac{R_D + r_o}{1 + (g_m + g_{mb})r_o}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;因为&lt;/strong&gt;$(g_m + g_{mb})r_o \gg 1$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
R_{in }\approx \frac{R_D}{(g_m + g_{mb})r_o} + \frac{1}{g_m + g_{mb}} \\
\end{equation}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若$R_D = 0$&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{equation}
R_{in} = \frac{1}{g_m + g_{mb} + \dfrac{1}{r_o}}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;output-impedence&#34;&gt;Output Impedence&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/30.png&#34;
	width=&#34;632&#34;
	height=&#34;810&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/30_hud7017aa1d95e12ba0caffc06e5c1e805_49996_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/30_hud7017aa1d95e12ba0caffc06e5c1e805_49996_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;78&#34;
		data-flex-basis=&#34;187px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
R_{out} = \big[ (1 + (g_m + g_{mb})r_o)R_S + r_o \big] || R_D
\end{equation}
$$&lt;/p&gt;
&lt;h1 id=&#34;cascode-stage&#34;&gt;Cascode Stage&lt;/h1&gt;
&lt;h2 id=&#34;basic-configuration&#34;&gt;Basic Configuration&lt;/h2&gt;
&lt;h3 id=&#34;电路-2&#34;&gt;电路&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/15.png&#34;
	width=&#34;427&#34;
	height=&#34;453&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/15_huace54b084aa4627ec694c04d60064bf2_5403_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/15_huace54b084aa4627ec694c04d60064bf2_5403_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;94&#34;
		data-flex-basis=&#34;226px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;CS + CG&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$M_1$: Input Device&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$M_2$: Cascode Device&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;voltage-range&#34;&gt;Voltage Range&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;为了让$M_1$工作在&lt;strong&gt;Saturation Region&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
V_X &amp;amp;\ge  V_{in} - V_{T1} \\
V_X &amp;amp;= V_b - V_{GS2}
V_b -V_{GS2} &amp;amp;\ge V_{in} -V_{T1} \\
V_b &amp;amp;\ge V_{in} - V_{T1} + V_{GS2}
\end{aligned}
$$&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;为了让$M_2$工作在&lt;strong&gt;Saturation Region&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
\\ V_{out} - V_{S2} &amp;amp;\ge V_b - V_{S2} - V_{T2} \\
V_{out} &amp;amp;\ge V_b - V_{T2} (4)\\
V_{out} &amp;amp;\ge (V_{in} - V_{T1}+ V_{GS2} -V_{T2}) \\
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_{b \ min} = V_{in} - V_{TH1} + V_{GS2}
\end{equation}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_{out \ min} = V_{OV1} + V_{OV2}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;io-特性&#34;&gt;I/O 特性&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/16.png&#34;
	width=&#34;581&#34;
	height=&#34;382&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/16_hubc16c4a636a6fafc5fadf67d0fd20803_5391_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/16_hubc16c4a636a6fafc5fadf67d0fd20803_5391_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;152&#34;
		data-flex-basis=&#34;365px&#34;
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;cascode-stage-with-a-source-resistance&#34;&gt;Cascode Stage With a Source Resistance&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/31.png&#34;
	width=&#34;690&#34;
	height=&#34;1024&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/31_huce3af16cfe0c94e60285c5c7124a24eb_62191_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/31_huce3af16cfe0c94e60285c5c7124a24eb_62191_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;67&#34;
		data-flex-basis=&#34;161px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{aligned}
I_{D2} &amp;amp;= I_{D1} \frac{R_p}{\dfrac{1}{g_m + g_{mb}} + R_p} \\
&amp;amp;= g_{m1} V_{in} \frac{(g_m + g_{mb})R_p}{1 + (g_m + g_{mb})R_p}
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
\begin{aligned}
A_v &amp;amp;= -\frac{ I_{D2} }{ I_{D1} } \\
&amp;amp;=-g_mR_D\frac{(g_m + g_{mb})R_p}{1 + (g_m + g_{mb})R_p}
\end{aligned}
\end{equation}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
R_{out} = [1 + (g_{m2} + g_{mb2})r_{o2}]r_{o1} + r_{o2}
\end{equation}
$$&lt;/p&gt;
&lt;h2 id=&#34;cascode-stage-with-current-source-load&#34;&gt;Cascode Stage With Current-Source Load&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/21.png&#34;
	width=&#34;614&#34;
	height=&#34;866&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/21_hu5f90b383082772b9adb4e35d056f557e_51917_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/21_hu5f90b383082772b9adb4e35d056f557e_51917_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;70&#34;
		data-flex-basis=&#34;170px&#34;
	
&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;变换电路&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/22.png&#34;
	width=&#34;1698&#34;
	height=&#34;1244&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/22_hudd0c19235a15104b86ec51d0e7960d54_163709_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/22_hudd0c19235a15104b86ec51d0e7960d54_163709_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;136&#34;
		data-flex-basis=&#34;327px&#34;
	
&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;推导&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;$r_{o1}$ 分走了很多流&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
I_{out} &amp;amp;= g_{m1}V_{in}\frac{r_{o1}}{r_{o1} + r_{o2} || \dfrac{1}{g_m + g_{mb}}} \\
G_m &amp;amp;= \frac{I_{out}}{V_{in}} \\
&amp;amp;= g_{m1}\frac{r_{o1}}{r_{o1} + r_{o2} || \dfrac{1}{g_m + g_{mb}}} \\
|A_v| &amp;amp;= G_m R_{out} \\
&amp;amp;= g_{m1} r_{o1} [1 + (g_{m2} + g_{mb2})r_{o2}]
\end{aligned}
$$&lt;/p&gt;
&lt;h2 id=&#34;folded-cascode&#34;&gt;Folded Cascode&lt;/h2&gt;
&lt;h3 id=&#34;simple-folded-cascode&#34;&gt;Simple Folded Cascode&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/17.png&#34;
	width=&#34;846&#34;
	height=&#34;371&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/17_hub045c750830ed97ed9b63accd9038824_17682_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/17_hub045c750830ed97ed9b63accd9038824_17682_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;228&#34;
		data-flex-basis=&#34;547px&#34;
	
&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于(b)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;$$
\begin{aligned}
I_{D2} &amp;amp;= I_1 - \frac{1}{2}k_p(V_{DD} - V_{in1} - |V_{tp}|)^2 \\
I_{D2} &amp;amp; \downarrow \ \Rightarrow I_{D2} = 0 \\
I_1 &amp;amp;= \frac{1}{2}k_p(V_{DD} - V_{in1} - |V_{tp}|)^2
\end{aligned}
$$&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
V_{in1} = V_{DD} - |V_{tp}| -\sqrt{\frac{2I_{1}}{k_p}}
\end{equation}
$$&lt;/p&gt;
&lt;h3 id=&#34;folded-cascode-with-current-source&#34;&gt;Folded Cascode With Current Source&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/32.png&#34;
	width=&#34;994&#34;
	height=&#34;740&#34;
	srcset=&#34;https://downeyflyfan.com/p/3.-single-stage-amplifier/32_hu01a1a458cc84f47a4718229479fbe4df_61949_480x0_resize_box_3.png 480w, https://downeyflyfan.com/p/3.-single-stage-amplifier/32_hu01a1a458cc84f47a4718229479fbe4df_61949_1024x0_resize_box_3.png 1024w&#34;
	loading=&#34;lazy&#34;
	
	
		class=&#34;gallery-image&#34; 
		data-flex-grow=&#34;134&#34;
		data-flex-basis=&#34;322px&#34;
	
&gt;&lt;/p&gt;
&lt;p&gt;$$
\begin{equation}
R_{out} = \big[ 1 + (g_{m2} + g_{mb2})r_{o2} \big] (r_{o1} || r_{o3}) + r_{o2}
\end{equation}
$$&lt;/p&gt;
&lt;h1 id=&#34;附录&#34;&gt;附录&lt;/h1&gt;
&lt;h2 id=&#34;mosfet的电阻&#34;&gt;MOSFET的电阻&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&#34;text-align:center&#34;&gt;名称&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;输出电阻&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;反向输出电阻&lt;/th&gt;
&lt;th style=&#34;text-align:center&#34;&gt;&lt;strong&gt;Triode Region Resistance&lt;/strong&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;符号&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$\dfrac{1}{g_m}$ 或 $r_{ds}$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$r_o$&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;$R_{on} = \dfrac{ V_{DS} }{ I_D }$&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;适用情况&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;考虑CLM&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;进入&lt;strong&gt;Triode Region&lt;/strong&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&#34;text-align:center&#34;&gt;不适用情况&lt;/td&gt;
&lt;td style=&#34;text-align:center&#34;&gt;高频电路&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;在饱和区，当MOSFET的输入电压足够高，使得MOSFET的通道完全打开，电流受限于外部电路阻抗而不是MOSFET本身。在这种情况下，MOSFET的漏-源电压和漏电流之间的关系可以近似为线性关系，类似于&lt;strong&gt;普通的电阻&lt;/strong&gt;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;一般的, $r_o \gg \frac{1}{g_m}$&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;body-effect&#34;&gt;Body Effect&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;the voltage at the body terminal (which is usually connected to the source) affects the threshold voltage of the device. This occurs because of the depletion region that forms between the body and channel regions. When a voltage is applied to the body, it changes the width of this depletion region, which alters the effective thickness of the oxide layer between gate and channel.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$$
\begin{equation}
\eta = \frac{g_m}{g_{mb}} =\dfrac{\partial V_{TH}}{\partial V_{in}} = \frac{\partial V_t}{\partial V_{SB}}
\end{equation}
$$&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在考虑&lt;strong&gt;Body Effect&lt;/strong&gt;时, $V_t$是一个随电流变化的参数(一般情况下变化很小，忽略不计)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;$g_{mb}V_{bs}$&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;二极管的反向传输电阻对二极管电流的影响, 其中$g_{mb}$叫做&lt;strong&gt;反向跨导&lt;/strong&gt;, 指栅-漏结电容在反向偏置下存储的电荷引起的漏极电流变化的比例，反映了MOSFET的输入特性。&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        
    </channel>
</rss>
